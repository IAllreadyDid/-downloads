ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее CACHE   MAC                 CHRSET  COM                   DM      COM   	              EPROMMERDOC   
              EVOLUTI PAS   G        HDFORM  MAC   E        HDTEST  MAC                   HGR     INC                   rk
        CP   (HL)
        LD   A,(@adrv)
        JR   NZ,flcache
        LD   HL,cdrv
        CP   (HL)
        JR   Z,rdcach1
;
flcache:LD   E,A
        LD   D,0
        LD   HL,edrvs
        ADD  HL,DE
        BIT  7,(HL)
        JP   Z,rl number
        JP   ftest              ; jump to program start
next:   db   0C3H               ; jump instruction
        dw   0                  ; to next module in line
prev:   dw   0                  ; previous module
remove: db   0              ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее   LD   A,(DE)
        DEC  DE
        SUB  11
        JR   NZ,next
;
        INC  DE
        INC  DE                 ; move drive/jump table
        LD   BC,11*2
        LD   HL,read
        EX   DE,HL
        LDIR
        LD   BC,rdcache      ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее INST    COM   -!"#$%&           INST    MAC   '()*             LIFE3D  PAS   e+,-./01234567    LINBUF  COM   8                LINBUF  MAC   9:;              PARK    COM   <                PARK    MAC   =>?@             TETRIS  PAS   QABCDEFGHIJK      resident system extension ?
        CP   60
        JR   NZ,next            ; no -> exit
        LD   A,(DE)
        CP   130                ; install code ?
        JR   Z,f130
        CP   131                ; remove  code ?
        JR   NZ,next    ; remove flag
nonbank:db   0FFH               ; nonbank flag
name:   db   'CACHE][ '         ; 8-character name
loader: db   0                  ; loader flag
        db   0,0                ; reserved area
;
ftest:  LD   A,C                ; callееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее   ; return new read  disk vector
        LD   DE,wtcache         ; return new write disk vector
        RET                     ; return with no error
;
; read cache
;
rdcache:LD   A,(@trk)
        CP   3
        JP   Z,rdcach2
        LD   HL,ct        title 'CP/M 3 Disk cache program'

        ; Rev. 01/30/91
        ; By Werner K.G. Muenchheimer


        .Z80
        cseg
        org 0

        include DSKIOB65.LIB
;
; RSX prefix
;
serial: db   0,0,0,0,0,0        ; room for seria WASH    COM   >LMNOPQRS         WASHINSTCOM   OTUVWXYZ[\]       WDPIC+  COM   A^_`abcdef        TETRIS  BAK   Qghijklmnopq     ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее
;
        INC  DE
        LD   A,(DE)
        DEC  DE
        OR   A
        JR   NZ,next
;
        LD   HL,remove          ; set remove flag
        LD   (HL),0FFH
        RET                     ; return with no error
;
f130:   INC  DE
     ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееead
        LD   (cdrv),A
        LD   A,(@trk)
        LD   (ctrk),A
;
        LD   HL,(@sect)
        PUSH HL
        LD   HL,(@dma)
        PUSH HL
        LD   BC,15
flcach1:PUSH BC
        LD   HL,xlt
        ADD  HL,BC
        LD   A,(HL(Н:pГ¦Нв
эЛ F(НIШН:~жр°wэЛ †Г¦НIШ‡‡‡‡Н:~ж°wэЛ ЖЙGШ*0:4Нл
ЙЦ0Шю
?РЦШю?ЙНVГ  ! Нњ	[НВяН ·(цНв
юA8пюQ0лН!ЦA2т
Н8! еЕНњ	OНєБб$сГG*
|µ !  "ЙН+"*
|µИ+"
ГG*5л*
#л·нRл0Н+"Й!  "*5л*
#л·нRлИШ"
ГG*|µ(Ґ+"Гееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее     ADD  HL,BC
        LD   DE,(@dma)
        LD   B,1
        LDIR
        RET
;
rdcach2:LD   A,0FFH
        LD   (ctrk),A
        JR   read
;
; write cache
;
wtcache:LD   A,(@adrv)
        LD   HL,cdrv
        CP   (HL)
        JR   NZ,wrr fuellen  <TAB> ASCII-HEX  <ESC> Ende Edit
       Modus :  HEX$$ HEX $ASCII$Fuellwert : $ Neues Laufwerk : $ Spur : $ Sektor : $ Block : $:  Spur : $  Sektor : $  Block : $  ---$1Ш!  "0}24НVГЗН 2т
Н8НGНVN	Н Н	НМН> Н!>Н!яН ·(цНв
ached track
csecs:  ds   16                 ; cached sectors
cbuff:  ds   16*256             ; cache  buffer
;
        end
)
        LD   (@sect),A
        LD   HL,cbuff
        ADD  A,H
        LD   H,A
        LD   (@dma),HL
        CALL read
        LD   HL,(@sect)
        LD   DE,csecs
        ADD  HL,DE
        LD   (HL),A
        POP  BC
        DEC  C
     ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееite
        LD   A,(@trk)
        LD   HL,ctrk
        CP   (HL)
        JR   NZ,write

        LD   BC,(@sect)
        PUSH BC
        LD   B,C
        LD   C,0
        LD   HL,cbuff
        ADD  HL,BC
        EX   DE,HL
        LD   HL,(@dma!$НШсКF#ѕ#(#ш#Йю Ф!х~#foсйµЯфЫсRGD]WqTФ	Sи	Bэ	ErXWW	¶d„¦л«	Щь!  Нњ	жНВэ!7Ї24эw НЖНЖ> Н!>Н!яН ·(ц!TНб! Нњ	NНВНL
е! Нњ	OНєб]нK2!Шs#x± щГ	!Нњ	эЛ ~(эЛ ѕэЛ †BэЛ юHГВэЛ ~0	Н Н Ц0ю
РхН RН с_Н З       
SELECT PRINTER CHARACTER SET
0) U.S.A.
1) FRANCE
2) GERMANY
3) ENGLAND
4) DENMARK
5) SWEDEN
6) ITALY
7) SPAIN
8) JAPAN
9) NORWAY
TYPE NUMBER OR ^C: $                                                 JP   P,flcach1
        POP  HL
        LD   (@dma),HL
        POP  HL
        LD   (@sect),HL
;
rdcach1:LD   BC,(@sect)
        LD   HL,csecs
        ADD  HL,BC
        LD   A,(HL)
        LD   B,C
        LD   C,0
        LD   HL,cbuff
   Гґ*      =                                   (      )                  <== Waehlen  T-rack  S-ector  D-rive  R-ead  W-rite  B-lock  E-dit




       00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F  0123456789ABCDEF$   <== Waehlen  <^V> Buffe8,6,4,2,0
;
read:   ds   3                  ; read  disk vector
write:  ds   3                  ; write disk vector
edrvs:  ds   16                 ; enabled drives
;
cdrv:   db   255                ; cached drive
ctrk:   db   255                ; c)
        LD   B,1
        LDIR
        CALL write
        POP  BC
        LD   HL,csecs
        ADD  HL,BC
        LD   (HL),A
        RET
;
; data area
;
xlt:    db   15,13,11,9,7,5,3,1 ; sector translate table, skew 2
        db   14,12,10,GНл*л7нRл(І8°*#"ГGяЭ^ Эn Эf{·И·нR0ъh& Й2Н  2Г ! Нњ	2Н Н7Н–· яН ·ИБхНМсГэЙ2Н 2Н ! Нњ	(2Н Н–· ЫЙх! Нњ	OНє! Нњ	OНє! Нњ	OНєсЙ> Н!ыЙю$ИН!ц!Нњ	:т
ЖAН!ЊНВ*
Нc—НВ*НcЈНВН8Гc       I  __  I       I    I     C1     R3   I
       I         I  __  I U6    I U4 I .----. C2  R4   I
       I   U10   I  __  I       I    I I    I C3       I
       I         I  __  I       I    I I U3 I C4 U1 R1 I
       I         I  __  I U8 U7 I                 U4
       1    74 LS 04                 U5
       1    4040                     U6
       1    74 LS 20                 U7
       1    74 LS 74                 U8
       1    ZPY20                    D1
       1    ZPY24              2·нRi`0*2 я|· Ђя"0ЙНсГ	хЕХе_Н бСБсЙ~·ИG#~Н!щЙеЕх!<Н0сБбЙеЕх!EН0сБбЙеЕх!Н0сБбЙ 'НѓиНѓd Нѓ
 Нѓ}Ж0Г!я·нR0ъx·(0ЃГ!|Н›}хН¤сжЖ0ю:Ъ!ЖГ!еЕНњ	>ђ‡‡‡‡*0Нл
Н–> Н!Н!ХН›> Н!фС> Н!НрщБбЙжю 0>.ю >.Г!  1    Dip-Switch 8 fach        U10
       1    Schalter 1 mal ein       SW1
       5    14-pol. IC-Sockel
       1    16-pol. IC-Sockel
       1    24-pol. IC-Sockel
       1    28-pol. Textool-Sockel
       1    40-pol. IC-Sockel
       1    Platiееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее®ГВНл*
ЭNЭF·нBШDM!  x±(шн[Э~Э–Л<Л= щ·Й! Нњ	:т
_Н 2р
Н Н еЭбЭ~!Ђ <=()ъ"2Э~2
Э~2ЭnЭfЭ~G)эЭ~Нл
Э^ ЭV  ·нR0ъ*
л`i"5!  "!Ш"ъ
ш
2Н Г–Н:4юЪ	Ц24:4GжO‡ЃЖoxжЖgНњ	е*0Ш:4Нл
Н<> Н!~_Н›> Н!Н3
       1    680 Ohm                  R4
       3    4,7 kOhm                 R5,8,9
       1    100 Ohm                  R6,10
       1    22  Ohm                  R7

       Kondensatoren
       -------------
       1    47    uf/50V/Elko             D2
       1    LED (rot)                D3
       1    2N3904                   Q1

       Widerstaende
       ------------
       1    1   Ohm                  R1
       1    10  kOhm Spindeltrimmer  R2
       1    10  kOhm                 RШ*0л!НІ$:3· xю	ИрЙ*0|µИря"0:*·К	!Нњ	!*Н0!Нњ	OНє*0Шл!ГІ*0 л*2|·ИнRИ*0 "0:3·К	!Нњ	!3Н0*0Шр л!ГІхЕе:(…o:)„g:'·(|eoе!Н0бе}Н!!Н0б|Н!!Н0бБсЙnН:
л*5·нRШИл"
ЙwН:
еНС·нRШИл"Й‚ne S.M.033

       .-----------------------------------------------.
       I  D3     I 033   C9     .----.      D1      R2 I
       I SW1  R9 I------.       I    I     R8...5 Q1   I
       I         I______I    U5 I    I  U2        C0   I
       I         Stueckliste AP-64e Eprommer
       ___________________________

       Halbleiter
       ----------
       1    TL497ACN                 U1
       1    7406                     U2
       1    2716                     U3
       1    HD68A21P I:4бжЖ8oНњ	Н<{НрНI! Гњ	:4GжO‡ЃЖoxжЖgНњ	е*0Ш:4Нл
> Н!~_Н›> Н!:4бжЖ8oНњ	{ГрН:4юрТZ	ЖG:3· ЛxВЖx24ГЖН:4*0Нл
|µИ:4Ц24ТЖ>24Г	Н*0:4Нл
#л*2·нRИ:4<G:3· ЛxВЖx24·ВЖ>р24ГZ	*0Ђя8!  "0ЙНЫГ	*0Ђ DM л* C0
       7    0.1   uF                 C1,2,3,5,7,8,9
       1    100   pF                 C4
       1    10    uF/25V/Tantal      C6

       Spulen
       ------
       1    100   uH                 L1

       Sonstiges
       ---------
            
                                                                                                                                                                                                                                                   Н:
лЭnЭf·нRШлЭ~Э–·()= ьеНСляя·нR0ъ"ЭnЭf	"
Й! Нњ	НВНL
еН–бЙН
!:Н‘
ю&  (Н‘
лЦ0?Рю
РDM))	)Нл
лйН‘
лЦ0?Рю
8Ц?РюР))))µoлд~#ю Ащ8>

Н !9F#x·ИеЕ~Нв
w#ш6 БбЙЕХеяН ·(цю Ь<НЦ
ЬIбСБЙхю 0Ж@Н!сЙюaШю{РЦ Й…oР$Й	        Ш       I I    I C5       I
       I  D2 R10 I______I       I____I I____I       C6 I
       I serial no             C8                L1 C7 I
       I________________________                       I
                                IIIIIIIIIIIIIIIIIIIIIII
her als *)
          begin                (*  bisher festgestellter ? *)
             z:=erg[i];
             findworst:=i;
          end;
          i:=i+1;
     until (i=maxleb);        (* alle Lebewesen ueberprueft ? *)
end;

procedure paarung(bar;

procedure setpool;

(* Genpool initialiesieren, Variablen vorbesetzen *)

var     i, j : integer;

begin
     genera:=0;
     treffer:=0;
     randomize;                       (* Zufallsgenerator *)
     for i:=0 to maxleb-1 do begin
    ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее:=0;
    repeat
          if (erg[i]>z) then   (* Punktestand hoeher als *)
          begin                (*  bisher festgestellter ? *)
             z:=erg[i];
             findbest:=i;
          end;
          i:=i+1;
     until (i=maxleb);     ; *)
   (* etyp = array [0..(maxleb-1)] of integer;           *)
   leb  = array [0..11,1..22] of integer;
   etyp = array [0..11]       of integer;

var
   pool         : leb;   (* Gesamtheit aller Lebewesen *)
   genera,      (* aktuelle Zahl der ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееegen Lebewesen j
   gewinnt i, so gilt play = TRUE, andernfalls play = FALSE *)

var zahl  : integer;
    found : boolean;

begin
   zahl:=maxgen;
   found:=false;
   repeat
          zahl:=zahl-pool[i,zahl];
          if (zahl<=0) then
            for j:=1 to maxgen do begin
             pool[i,j]:=1+random(2);  (* Gen mit "1"       *)
         end;                         (* oder "2" besetzen *)
     end;
end;

function play(i,j: integer):boolean;

(* Spiel "NIMM : Lebewesen i spielt g(*      Implemetation eines genetischen Algorithmus            *)
(*      am Beispiel von Spielern fuer das Spiel NIMM           *)
(*      fuer Turbo-Pascal 5.0                                  *)
(* fuer Versionen 3.0 u. 4.0: berechnete Konstanten ers   (* alle Lebewesen ueberprueft ? *)
end;

function findworst(erg:etyp):integer;

(* schlechtestes Lebewesen herausfinden *)

var i,
    z: integer;
begin
    i:=0;
    z:=maxleb+1;
    repeat
          if (erg[i]<z) then   (* Punktestand hoeGenerationen *)
   maxgenera,   (* maximal erlaubte Zahl der Generationen *)
   treffer,     (* aktuelle Zahl der erzielten richtigen Gene *)
   bestleb      (* Index des besten lebenden Lebewesens *)
                : integer;
   c               : chееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее      found:=true
          else
             zahl:=zahl-pool[j,zahl];
   until (zahl<=0) or found;
   play:=found;
end;

function findbest(erg:etyp):integer;

(* bestes Lebewesen herausfinden *)

var i,
    z: integer;
begin
    i:=0;
    z= 12;        (* Anzahl der Lebewesen  <= 12          *)
   wamutation = 100;   (* Wahrscheinlichkeit = 1 / wamutation  *)
   wacros = 3;         (* Wahrscheinlickkeit = 1 / wacros      *)


type
   (* leb  = array [0..(maxleb-1),1..maxgen] of integeretzen   *)
(* fuer Version 3.0 :         inc-Statements ersetzen          *)

{$U+}

program evolution;

const              (* Diese Parameter gilt es zu optimieren:   *)
   maxgen = 22;        (* Anzahl der Gene       <= 40          *)
   maxleb ,x,w:integer);

(* Lebewesen b mit Lebewesen x paaren und Lebewesern
   w durch Hybriden ersetzen *)

var i,
    j  : integer;
    bx : boolean;   (* Gen von Lebewesen b oder Lebewesen x *)
begin
     bx:=true;                       (* Gen von Lebebewesen *)

var zahl,
    ihr   : integer;
    found : boolean;
begin
     clrscr;
     writeln('Startwert = ',maxgen);        (* Genzahl ausgeben *)
     found:=false;
     zahl:=maxgen;                       (* Zahl initialisieren *)
     repe
                              (* gefunden *)
     for i:=0 to maxleb-1 do begin   (* Punkteliste loeschen *)
         erg[i]:=0;
     end;                     (* bestes Lebewesen ausspielen *)
     for i:=0 to maxleb-2 do begin
         for j:=(i+1) ne durchlaufen *)
             if (random(wamutation)=0) then
                pool[i,j]:=1+random(2);           (* Mutation *)
         end;
     end;
end;

function checkbest(b:integer):boolean;

(* Ueberpruefung, ob Lebewesen b bereits perfekt * Lebewesen auswaehlen *)
    mutation;                      (* Genpool mutieren           *)
    perfect:=checkbest(b);
    printpool(b,erg[b]);           (* bestes Lebewesen ausgeben *)
    if not perfect then            (* falls noch kein perfektes *besten Lebewesens
     treffer = Anzahl der richtigen Gene im besten Lebewesen *)

     for i:=1 to maxgen do
         write(pool[b,i]:1);
end;

function startlife:boolean;

(* eine Generation der Evolution durchfuehren *)

var i, j, b,
    w, ewesen b *)
     for i:=1 to maxgen do begin
         if (random(wacros)=0) then
            bx:=not bx;                    (* Crossing-over *)
         if bx then
            pool[w,i]:=pool[b,i]
         else
            pool[w,i]:=pool[x,i];
   play(j,i);          (* Rueckspielrunde *)
             if win then
                erg[j]:=erg[j]+1 (* Punktetabelle aktualisieren *)
             else
                erg[i]:=erg[i]+1;
         end;
    end;
    b:=findbest(erg);            (* bestto maxleb-1 do begin
             win:=play(i,j);                 (* Hinspielrunde *)
             if win then
                erg[i]:=erg[i]+1   (* Punktetabelle aktualisieren *)
             else
                erg[j]:=erg[j]+1;
             win:=)

var i : integer;
begin
     checkbest:=true;
     treffer:=0;
     i:=1;
     repeat
         if (i mod 3 > 0) then begin       (* jedes dritte Gen *)
            if (pool[b,i] <> (i mod 3)) then (* ist irrelevant *)
               checkbest:=)
       paarung(b,x,w)      (* Lebewesen => Paarung b mit x -> w *)
    else begin
         startlife:=true;
         printpool(b,erg[b]);   (* perfektes Lebewesen ausgeben *)
    end;
end;


procedure playgame;

(* Spiel Mensch gegen Computerlx         : integer;
    win, perfect : boolean;
    erg          : etyp;   (* Punkteliste fuer Bestimmung des
                           besten und schlechtesten Lebewesens *)

begin
     startlife:=false;        (* noch kein perfektes Lebewesen *)      end;
end;

procedure mutation;

(* zufaellige Gene aus dem Genpool zufaellig mutieren *)

var i,
    j:   integer;
begin
     for i:=0 to maxleb-1 do begin      (* Lebewesen durchlaufen *)
         for j:=1 to maxgen do begin         (* Gees Lebewesen bestimmen *)
    bestleb:=b;
    w:=findworst(erg);     (* schlechteste Lebewesen bestimmen *)
    repeat
          x:=1+random(2);
    until (x<>b);          (* zufaelliges Lebewesen <> bestes
                                            bestem Lebewesen und
   andere interessante Daten ausgeben *)

var i : integer;
begin

     writeln;
     write(genera:3,' ',b:3,' ',erg:3,' ',treffer:3,'   ');

  (* genera  = Nummer der aktuellen Generation
     b       = Nummer des aktuellen false
            else
               treffer:=treffer+1;
         end else
             treffer:=treffer+1;
         i:=i+1;
     until (i>maxgen);        (* alle Lebewesen ueberprueft ? *)
end;

procedure printpool(b,erg:integer);

(* Gene vonat
           zahl:=zahl-pool[bestleb,zahl];     (*  Computerzug   *)
           gotoxy(3,4);
           writeln(zahl:5);
           if (zahl<=0) then
              found:=true
           else begin                         (* Mensch zieht   *)
       A          ; and check for error
        JR   Z,fill

        LD   DE,error   ; print error message
        LD   C,prstr
        CALL bdos
        JP   exit

;

fill:   LD   (selrg),A  ; select controller

        LD   A,filcmd   ; send write; data   register (r/w)
statrg  equ 0E081H+slot ; status register (r/o)
selrg   equ 0E082H+slot ; select register (w/o)

wboot   equ 0           ; system wboot
bdos    equ 5           ; system calls
conin   equ 1           ; console input
prstr   eq) or found;           (* Mensch oder Computer
                                                      gewonnen ? *)
     if found then                          (* Computer = Sieger *)
        writeln('Ich habe gewonnen')
     else
         writeln('Sie D  HL,HL
        ADD  HL,HL
        ADD  HL,HL
        LD   DE,dpt
        ADD  HL,DE

        LD   (selrg),A  ; select controller

        LD   A,inicmd   ; send init parameters command
        CALL wtdta

        LD   B,5        ; send dummy p)
     playgame;
     read(KBD,c);
end.
 writeln('Vorsicht !!! Ich bin ein perfektes Lebewesen !!!');
     read(KBD,c);                       (* Tastendruck abwarten *           gotoxy(3,3);
                writeln('Sie sind dran, Ihr Zug:   ');
                repeat
                      gotoxy(27,3);
                      writeln('                            ');
                      gotoxy(27,3);
             ; drive format command
inicmd  equ 0CH         ; drive paramter init command
filcmd  equ 0FH         ; write buffer command


        LD   DE,menu1   ; print drive overview
        LD   C,prstr
        CALL bdos
        CALL rnfk       ; get type nu 9           ; print string
rdcbuf  equ 10          ; read console buffer

bell    equ 07H
lf      equ 0AH
cr      equ 0DH

seclen  equ 0200H       ; physical sector length
filler  equ 0E5H        ; sector filler constant
frmcmd  equ 04H         haben gewonnen');
end;

begin
     clrscr;
     writeln;
     write(
     'Ueber wieviele Generationen soll die Evolution laufen ?  ');
     readln(maxgenera);   (* maximale Generationszahl einlesen *)
     setpool;             (*   Genpool vorbesarameters
        XOR  A
parm1:  CALL wtdta
        DJNZ parm1

        LD   B,8        ; send drive parameters
parm2:  LD   A,(HL)
        INC  HL
        CALL wtdta
        DJNZ parm2

        CALL rddta      ; get completion byte
        OR         title 'HDForm for WD1002A-WX1 / OMTI 5520 Controller'

        ; Rev. 02/08/88
        ; by Werner K.G. Muenchheimer, 5469 Windhagen


        .Z80
        aseg
        org 0100H

slot    equ 070H        ; slot 7
dtarg   equ 0E080H+slot          readln(ihr);            (* Zug einlesen   *)
                until (ihr in [1,2]);         (* "1" oder "2" ? *)
                zahl:=zahl-ihr;
                gotoxy(3,4);
                writeln(zahl:5);
           end;
     until (zahl<=0umber
        DEC  A
        CP   44
        JR   C,parm

        LD   DE,user    ; print error message
        LD   C,prstr
        CALL bdos
        JP   exit

parm:   LD   L,A        ; get drive type table address
        LD   H,0
        ADimale -
                                 Generationenanzahl erreicht ? *)
     writeln;
     if (genera<maxgenera) then
     writeln('Vorsicht !!! Ich bin ein perfektes Lebewesen !!!');
     read(KBD,c);                       (* Tastendruck abwarten *etzen             *)
     writeln;
     writeln('Nr Best Pkt Treffer    Gene');
     repeat
           genera:=genera+1;     (* Generationenzahl erhoehen  *)
     until startlife or (genera=maxgenera);
        (* perfektes Lebewesen gefunden oder max buffer command
        CALL wtdta

        LD   B,5        ; send dummy parameters
        XOR  A
fill1:  CALL wtdta
        DJNZ fill1

        LD   BC,seclen  ; send filler bytes
        LD   A,filler
fill2:  CALL wtdta
        DEC  C
      o exit) : $'
user:   db bell
        db lf
        db cr,lf,'Invalid parameter$'
error:  db bell
        db lf
        db cr,lf,'Error$'
format: db lf
        db cr,lf,'Formatting $'
system: db lf
        db cr,lf,'Press <RETURN> for system wboot:   LD   C,A
        LD   A,(HL)
        SUB  '0'
        CP   10
        JR   NC,noinp
        ADD  A,C
        RET

noinp:  XOR  A
        RET

mxs:    db 3            ; console input buffer
ncs:    ds 1
        ds 4


   ; message compon        JP   exit

frm:    INC  A
        PUSH AF

        LD   (selrg),A  ; select controller

        LD   A,frmcmd   ; send format drive command
        CALL wtdta

        LD   B,3        ; send dummy parameters
        XOR  A
frm1:   CALL 170'
        db cr,lf,'RODIME      : 28) RO203E    29) RO204E   30) RO3055   31) RO2065'
        db cr,lf,'Seagate     : 32) ST125     33) ST138    34) ST225    35) ST251      36) ST412'
        db cr,lf,'            : 37) ST419     38) ST506'
         LD   A,(statrg)
        BIT  0,A
        JR   Z,wtdta1
        POP  AF
        LD   (dtarg),A
        RET

;

rnfk:   LD   DE,mxs     ; read number from keyboard
        LD   C,rdcbuf
        CALL bdos
        LD   HL,ncs
        LD   A,(HL)  JR   NZ,fill2
        DJNZ fill2

        CALL rddta      ; get completion byte
        OR   A          ; and check for error
        JR   Z,skew

        LD   DE,error
        LD   C,prstr
        CALL bdos
        JP   exit

;

skew:   LD,'Fuji        :  7) FK309-26'
        db cr,lf,'Kyocera     :  8) KC20A/B'
        db cr,lf,'Maxtor      :  9) XT1065    10) XT1085'
        db cr,lf,'Micropolis  : 11) 1324      12) 1324A    13) 1325     14) 1334       15) 1335'
        db cr,lf,'Micrents

menu1:  db cr,lf,'HDForm Version 3.0A'
        db lf
        db cr,lf,'CDC         :  1) 94155-38   2) 94155-48  3) 94155-57  4) 94155-67'
        db cr,lf,'            :  5) 94155-77'
        db cr,lf,'Evotek      :  6) 5820'
        db cr,lfwtdta
        DJNZ frm1

        POP  AF         ; send interleave parameter
        CALL wtdta

        LD   A,4        ; send step rate parameter (200 us)
        CALL wtdta

        LD   DE,format  ; print format message
        LD   C,prstr
db cr,lf,'Tandon      : 39) TN262     40) TN703A   41) TN705    42) TN755'
        db cr,lf,'Toshiba     : 43) MK53      44) MK54'
        db lf
        db cr,lf,'Enter number      (1-44, ^C to exit) : $'
menu2:  db cr,lf,'Enter interleave  (1-16, ^C t
        INC  HL
        DEC  A
        JR   Z,sngl
        JP   M,noinp

        LD   A,(HL)
        INC  HL
        SUB  '0'
        CP   10
        JR   NC,noinp
        LD   C,A
        LD   B,9
mult10: ADD  A,C
        DJNZ mult10

sngl   DE,menu2   ; print menu 2
        LD   C,prstr
        CALL bdos
        CALL rnfk       ; get interleave
        DEC  A
        CP   16
        JR   C,frm

        LD   DE,user    ; print error message
        LD   C,prstr
        CALL bdos
oscience: 16) HH725'
        db cr,lf,'MiniScribe  : 17) 3012      18) 3425     19) 3650     20) 6085       21) 8425'
        db cr,lf,'NEC         : 22) D3146H    23) D5124    24) D5126    25) D5146H'
        db cr,lf,'PRIAM       : 26) V150      27) Vint ready message
        LD   C,prstr
        CALL bdos
        LD   C,conin
        CALL bdos
        RST  wboot

;

rddta:  LD   A,(statrg)
        BIT  0,A
        JR   Z,rddta
        LD   A,(dtarg)
        RET

wtdta:  PUSH AF
wtdta1:        CALL bdos

        CALL rddta      ; get completion byte
        OR   A          ; and check for error
        JR   Z,exit

        LD   DE,error   ; print error message
        LD   C,prstr
        CALL bdos

exit:   LD   DE,system  ; pr$'


   ; drive parameter tables

dpt:    db 2,221,5,255,255,255,255,5 ; 94155-38 CDC
        db 3,175,5,255,255,255,255,5 ; 94155-48 CDC
        db 3,175,6,255,255,255,255,5 ; 94155-57 CDC
        db 3,175,7,255,255,255,255,5 ; 94155-67 CDC
      JR   NZ,dta
        DJNZ dta
;
        LD   (speaker),A
;
err:    LD   A,(statrg)
        BIT  0,A
        JR   Z,err
        LD   A,(dtarg)
        JR   sel
;
rdcmd:  db   08,00,00,00,01,0C0H
;
        end
,5 ; TN703A   Tandon
        db 3,194,5,255,255,255,255,5 ; TN705    Tandon
        db 3,213,5,255,255,255,255,5 ; TN755    Tandon

        db 3,065,5,255,255,002,000,5 ; MK53     Toshiba
        db 3,065,7,255,255,002,000,5 ; MK54     Toshiba

    lis
        db 4,000,6,255,255,255,255,5 ; 1334     Micropolis
        db 4,000,8,255,255,255,255,5 ; 1335     Micropolis

        db 2,100,4,255,255,255,255,5 ; HH725    Microscience

        db 2,000,2,000,128,000,128,5 ; 3012     MiniScribe
     H
;
wboot   equ  0
buffer  equ  200H
seclen  equ  200H
;
sel:    LD   (selrg),A
;
        LD   B,6
        LD   HL,rdcmd
cmd:    LD   A,(statrg)
        BIT  0,A
        JR   Z,cmd
        LD   A,(HL)
        INC  HL
        LD   (dtarg),A
; RO3065   RODIME

        db 2,103,4,255,255,000,128,5 ; ST125    Seagate
        db 2,103,6,255,255,255,255,5 ; ST138    Seagate
        db 2,103,4,255,255,000,128,5 ; ST225    Seagate
        db 3,052,6,255,255,255,255,5 ; ST251    Seagate
          db 3,175,8,255,255,255,255,5 ; 94155-77 CDC

        db 1,116,8,255,255,000,000,5 ; 5820     Evotek

        db 2,103,4,255,255,001,044,5 ; FK309-26 Fuji

        db 2,103,4,255,255,001,044,5 ; KC20     Kyocera

        db 3,150,7,255,255,255,25ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее    end
ndon

        db 3,065,5,255,255,002,000,5 ; MK53     Toshiba
        db 3,065,7,255,255,002,000,5 ; MK54     Toshiba

       db 2,103,4,255,255,001,044,5 ; 3425     MiniScribe
        db 3,041,6,255,255,255,255,5 ; 3650     Miniscribe
        db 4,000,8,255,255,255,255,5 ; 6085     MiniScribe
        db 2,103,4,255,255,001,044,5 ; 8425     MiniScribe

        db 2,103,8,        DJNZ cmd
;
        LD   BC,seclen
        LD   HL,buffer
dta:    LD   A,(statrg)
        BIT  0,A
        JR   Z,dta
        BIT  2,A
        JR   NZ,err
        LD   A,(dtarg)
        LD   (HL),A
        INC  HL
        DEC  C
        db 1,050,4,255,255,000,000,5 ; ST412    Seagate
        db 1,050,6,000,128,001,000,5 ; ST419    Seagate
        db 1,050,2,255,255,000,000,5 ; ST506    Seagate

        db 2,103,4,255,255,255,255,5 ; TN262    Tandon
        db 2,221,5,255,255,255,2555,5 ; XT1065   Maxtor
        db 4,000,8,255,255,255,255,5 ; XT1085   Maxtor

        db 4,000,6,255,255,255,255,5 ; 1324     Micropolis
        db 4,000,7,255,255,255,255,5 ; 1324A    Micropolis
        db 4,000,8,255,255,255,255,5 ; 1325     Micropo        title 'Hard disk test utility'

        ;Rev. 11/05/89
        ;by Werner K.G. Muenchheimer, 5469 Windhagen


        .Z80
        aseg
        org 100H

speaker equ  0E030H
;
dtarg   equ  0E0F0H
statrg  equ  0E0F1H
selrg   equ  0E0F2  db 3,219,7,255,255,255,255,5 ; V170     PRIAM

        db 2,128,6,255,255,255,255,5 ; RO203E   RODIME
        db 2,128,8,255,255,255,255,5 ; RO204E   RODIME
        db 3,104,6,255,255,002,138,5 ; RO3055   RODIME
        db 3,104,7,255,255,002,138,5 255,255,255,255,5 ; D3146H   NEC
        db 1,050,4,255,255,000,000,5 ; D5124    NEC
        db 2,103,4,255,255,001,044,5 ; D5126    NEC
        db 2,103,8,255,255,255,255,5 ; D5146H   NEC

        db 3,219,5,255,255,255,255,5 ; V150     PRIAM
      procedure hclrscr(n:integer);
var
   scr0:byte absolute $1000;
   scr1:byte absolute $3000;
begin
     if n = 0 then fillchar(scr0,$2000,#0)
              else fillchar(scr1,$2000,#0);
end;

procedure herkulesinitialisierung;
begin
end;

proce                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее                                                                                                                                                                                                                                                                      ГГ   яCACHE][    yю< йю‚(юѓ а· Ъ!6яЙЦ Н !лн°NОЙ:вуюКЗ!%ѕ:ау !$ѕ(I_ !Л~К2$:ву2%*дуе*жуе Е!ю	~2ду!6„g"жуН*ду&wБт…б"жуб"дунKду!&	~A !6	н[жун°Й>я2%@:ау!$ѕ ::ву!%ѕ 1нKдуЕA !6	л*жун°НБ!&	wЙdure herkulesseite(n:integer);
begin
     mem[$E054+n]:=0;
end;

procedure herkulesgrafik_ausschalten;
begin
     mem[$E001]:=0;
     mem[$E051]:=0;
     mem[$E052]:=0;
     mem[$E054]:=0;
     mem[$E056]:=0;
end;

procedure herkulesgrafik_ei                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Й Й            6я CACHE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     	
                       яя                                                                                                                                                                                                                          nschalten;
begin
     mem[$E000]:=0;
     mem[$E050]:=0;
     mem[$E052]:=0;
     mem[$E057]:=0;
end;
01]:=0;
     mem[$E051]:=0;
     mem[$E052]:=0;
     mem[$E054]:=0;
     mem[$E056]:=0;
end;

procedure herkulesgrafik_ei                                                                                                                                                                                                                                                                exit) : $

Cache enabled$

Press <RETURN> for system wboot.$

None selected$

Illegal drive$

RSX not found$                 ‚                      ‚ нsИ1Иќ	Н t
Н :u·КЃ=O !v	~юa8Ц ЦAюТ†_ !Ћ6ят"* $ € ен°†<Н ·бВ‹#q#p##s#r		Н 	Н Н н{ИЗ>Pb	Н ћ<Н Т

CP/M 3 Disk ][ Cache program

Select drives to support (Disk ][ only)

(A-P, <RETURN> only to                                                                                                                                                                                                                                                                    A,(HL)             ; convert entries to uppercase
        CP   'a'
        JR   C,upper
        SUB  'a'-'A'
upper:  SUB  'A'
        CP   16
        JP   NC,drverr
        LD   E,A                ; set select flag
        LD   D,0
        LD                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
conin   equ  1
prstr   equ  9
rdcbuf  equ  10
crsx    equ  60
;
        LD   (stack),SP
        LD   SP,stack

        LD   DE,srttxt          ; print start text
        LD   C,prstr
        CALL bdos
        LD   DE,conbuf          ; read con                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             sole buffer
        LD   C,rdcbuf
        CALL bdos
        LD   A,(num)            ; get number of entries
        OR   A
        JP   Z,selerr
        DEC  A
        LD   C,A
        LD   B,0
loop:   LD   HL,chars
        ADD  HL,BC
        LD                                                       Ђ    @ HЂ@ ђ@ ЂЂ‚                                                                                                                                                                                                                                                                                                                                                                                                                                                       title 'CACHE][ main program'

        ; Rev. 01/29/91
        ; By Werner K.G. Muenchheimer, 5469 Windhagen


        .Z80
        aseg
        org  100H

bel     equ  7
lf      equ  10
cr      equ  13
;
wboot   equ  0
bdos    equ  5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 HL,edrvs
        ADD  HL,DE
        LD   (HL),0FFH
        DEC  C
        JP   P,loop             ; repeat until all done
;
        LD   HL,(0001H)         ; get BIOS wboot entry point
        LD   DE,36
        ADD  HL,DE
        LD   DE,read    }
{ Polygons. Die Prozedur fill_4(x1,y1,x2,y2,x3,y3,x4,y4,pattern) }
{ fuellt dabei das durch x1,y1 bis x4,y4 definierte Viereck mit  }
{ dem durch Pattern indizierten Muster aus.                      }

function byteoff(x,y:integer):integer;
var
 ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееDE,instxt          ; print install message
        LD   C,prstr
        CALL bdos
;
exit:   LD   DE,exttxt          ; print exit message
        LD   C,prstr
        CALL bdos
        LD   C,conin            ; get response
        CALL bdos

      end;
     vec3      = record
                       x,y,z : real;
                 end;
     playfield = array [0..19,0..19,0..19] of boolean;


var p2d     :array[0..7] of vec2;
    p3d     :array[0..7] of vec3;
    xoff, yoff, zoom    :real;
boot.$'
selmsg: db   lf
        db   cr,lf,'None selected',bel,'$'
drvmsg: db   lf
        db   cr,lf,'Illegal drive',bel,'$'
rsxmsg: db   lf
        db   cr,lf,'RSX not found',bel,'$'
;
conbuf: db   16
num:    ds   1
chars:  ds   16
;
rsxpb0:          ; copy BIOS read/write entries
        LD   BC,6
        PUSH HL
        LDIR
;
        LD   DE,rsxpb0          ; call rsx (install)
        LD   C,crsx
        CALL bdos
        OR   A                  ; rsx error ?
        POP  HL
    ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее    LD   SP,(stack)
        RST  wboot              ; exit
;
selerr: LD   DE,selmsg          ; print select message
        JR   prerr
drverr: LD   DE,drvmsg          ; print drive  message
        JR   prerr
rsxerr: LD   DE,rsxmsg          ; print     life, newlife       :playfield;
    code                :array[0..3]  of byte;
    xpos, ypos, eb, dim :integer;


{----------------------------------------------------------------}
{ Hier beginnen die Prozeduren zum Ausfuellen eines viereckigen db   130
        db   11
read:   ds   3
        ds   3
edrvs:  db   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;
rsxpb1: db   130
        db   0
;
        ds   40
stack:  ds   2
;
        end
    JP   NZ,rsxerr
;
        INC  HL                 ; store returned values in BIOS
        LD   (HL),C
        INC  HL
        LD   (HL),B
        INC  HL
        INC  HL
        LD   (HL),E
        INC  HL
        LD   (HL),D
;
        LD   program life3d;                     { 1988 by Rainer Urian }

{$i hgr.inc}         { Einbinden der           }
                     { Herkules-Grafik-Toolbox }

{$a-}

type vec2      = record
                       x,y   : integer;
               lf
        db   cr,lf,'Select drives to support (Disk ][ only)'
        db   lf
        db   cr,lf,'(A-P, <RETURN> only to exit) : $'
instxt: db   lf
        db   cr,lf,'Cache enabled$'
exttxt: db   lf
        db   cr,lf,'Press <RETURN> for system wrsx    message
;
prerr:  LD   C,prstr
        CALL bdos
        LD   DE,rsxpb1          ; call rsx (remove)
        LD   C,crsx
        CALL bdos
        JR   exit
;
srttxt: db   lf
        db   cr,lf,'CP/M 3 Disk ][ Cache program'
        db     gbasl,gbash:integer;
begin
     gbasl:=$28*(y div 64)+$10*(y and 8);
     gbash:=(y and 7) * 4 + (y div 16) and 3;
     byteoff:=$3000+$100*gbash+gbasl+(x div 7);
end;

function getpattern(y,i:integer):byte;
const
     pattern:array[0..3,0..7] ocedure drawcube;
begin
     fill_4(p2d[0].x,p2d[0].y,p2d[1].x,p2d[1].y,
             p2d[4].x,p2d[4].y,p2d[3].x,p2d[3].y,1);
     fill_4(p2d[1].x,p2d[1].y,p2d[2].x,p2d[2].y,
             p2d[5].x,p2d[5].y,p2d[4].x,p2d[4].y,3);
     fill_4(p2d[3].x,p2,y2,x3,y3,x4,y4,pattern:integer);
var
   y:integer;
begin
    for y:=0 to 347 do begin
        filltab[y,0]:=-1;
        filltab[y,1]:=-1;
    end;
    contour(x1,y1,x2,y2);
    contour(x2,y2,x3,y3);
    contour(x3,y3,x4,y4);
    contour(x4,y4,x, xeoff, xsbit, xebit, temp  :integer;
     xsmask, xemask, mask, pattern     :byte;

begin
     pattern:=getpattern(y,idx);
     if xs>xe then begin
        temp:=xs;xs:=xe;xe:=temp;
     end;
     xsoff:=byteoff(xs,y);
     xeoff:=byteoff(xe,y);0 to 7 do begin
         with p3d[i] do begin
              x:=sx+off[i,0]*s;
              y:=sy+off[i,1]*s;
              z:=sz+off[i,2]*s;
         end;
     end;
end;

procedure projcube;
var
   i:integer;
begin
     for i:=0 to 7 do beginur_(xs,ys,xe,ye:integer);
var
   dx, xm, ym :integer;
begin
     dx:=abs(ye-ys);
     if dx>1 then begin
        xm:=(xs+xe) div 2;
        ym:=(ys+ye) div 2;
        if filltab[ym,0]<0 then filltab[ym,0]:=xm
        else filltab[ym,1]:=xm;
     f byte =
                           ( ($00,$00,$00,$00,$00,$00,$00,$00),
                             ($FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF),
                             ($55,$AA,$55,$AA,$55,$AA,$55,$AA),
                             ($88,$00,$22,$00,$88,${----------------------------------------------------------------
 Hier beginnen die Routinen zur Manipulation und Projektion eines
 dreidimensionalen Wuerfels.                                    }

procedure makecube(sx,sy,sz,s:real);
const
      of1,y1);
    y:=0;
    repeat
          if filltab[y,0]>-1 then begin
             if filltab[y,1]<0 then filltab[y,1]:=filltab[y,0];
             hline(filltab[y,0],filltab[y,1],y,pattern);
          end;
          y:=y+1;
    until y=347;
end;


     xsbit:=7-(xs mod 7);
     xebit:=7-(xe mod 7);
     xsmask:=xstab[xsbit];
     xemask:=xetab[xebit];
     if xsoff=xeoff then begin
        mask:=xsmask and xemask;
        mem[xsoff]:=(not mask) and mem[xsoff] or
                            
         p2d[i].x:=trunc((p3d[i].x*zoom/p3d[i].z)*1.5+xoff);
         p2d[i].y:=trunc(p3d[i].y*zoom/p3d[i].z+yoff);
     end;
end;

procedure offset(sx,sy,sz,s:real);
begin
     xoff:=140-sx/sz*zoom;
     yoff:=60-(sy-0.5*s)/sz*zoom;
end;

pro   contour_(xs,ys,xm,ym);contour_(xm,ym,xe,ye);
     end;
end;

procedure contour(xs,ys,xe,ye:integer);
begin
     contour_(xs,ys,xe,ye);
     if filltab[ys,0]<0 then filltab[ys,0]:=xs
     else filltab[ys,1]:=xs;
end;

procedure fill_4(x1,y1,x200,$22,$00) );
begin
     getpattern:=pattern[i,y mod 8];
end;

procedure hline(xs,xe,y,idx:integer);
const
     xstab:array[1..7] of byte=($40,$60,$70,$78,$7C,$7E,$7F);
     xetab:array[1..7] of byte=($7F,$3F,$1F,$0F,$07,$03,$01);
var
     xsofff:array[0..7,0..2]of real =
              ( (-1, 0,-1),    ( 0, 0,-2),
                ( 1, 0,-1),    (-1,-1.41,-1),
                ( 0,-1.41,-2), ( 1,-1.41,-1),
                ( 0,-1.41,0),  (0,0,0)        );
var
   i:integer;
begin
     for i:=]:=pattern;
              xsoff:=xsoff+1;
        end;
        mem[xeoff]:=(not xemask) and mem[xeoff] or
                                     (xemask and pattern);
        end;
end;

var filltab : array [0..348,0..1] of integer;

procedure conto            (mask and pattern);
     end
     else begin
        mem[xsoff]:=(not xsmask) and mem[xsoff] or
                                     (xsmask and pattern);
        xsoff:=xsoff+1;
        while xsoff<xeoff do begin
              mem[xsoffd[3].y,p2d[4].x,p2d[4].y,
             p2d[5].x,p2d[5].y,p2d[6].x,p2d[6].y,2);
end;


procedure cube (x,y,z,s:real);
begin
     makecube(x,y,z,s);
     projcube;
     drawcube;
end;


procedure movecube(var x,y,z:real);
var
   ch:char;
begi      else write('.');
            end;
  end;
  setcursor(xpos,ypos);
  until ch = #27;
end;

procedure randomlife; { Menuepunkt 4 }

var
   i, j, k   :  integer;
   s         :  real;
begin
     repeat
           clrscr;
           write('ure setcursor(i,j:integer);
begin
     gotoxy(5+i*2,4+j);
end;

procedure setmatrix;
var
   i,j : integer;
begin
     clrscr;
     writeln(' ***   Ausgangsstellung editieren   ***');
     write('Ebene:');
     write(eb+1);
     for i:=0 to dim---------------------------------}
{    Jetzt beginnen die eigentlichen Life-Routinen             }

procedure clearlife;
var
   i, j, k : integer;
begin
     for i:=0 to dim do
         for j:=0 to dim do
             for k:=0 to dim do
        
       ^U: begin
           if eb<dim then eb:=eb+1
                                 else eb:=0;
              setmatrix;
           end;
       ^H: begin
           if eb>0 then eb:=eb-1
                               else eb:=dim;
             <27);
     repeat
           gotoxy(1,3);
           write('Minimale Anzahl von Nachbarzellen um geboren');
           write(' zu werden (0..26): ');
           read(code[2]);
     until code[2]<27;
     repeat
           gotoxy(1,4);
           wn
     repeat
           hclrscr(1);
           offset(x,y,z,300);
           cube(x,y,z,300);
           read (KBD,ch);
           case ch of
                'J': x   :=x-20;
                'K': x   :=x+20;
                'M': y   :=y+20;
    ar
   ch       : char;
   i, j, k  : integer;
begin
  xpos:=0; ypos:=0; eb:=0;
  setmatrix;
  repeat;
    read(KBD,ch);
    case ch of
      'K':  if xpos<dim then xpos:=xpos+1
                                   else xpos:=0;
      'J':  if xpos do begin
         for j:=0 to dim do begin
             setcursor(i,j);
             if life[i,eb,(dim-j)] then write('X')
                            else write('.');
         end;
     end;
     setcursor(xpos,ypos);
end;

procedure editor;
v         life[i,j,k]:=false;
end;

procedure setdim; { Menuepunkt 1 }

begin
     repeat
            clrscr;
            write('Dimensionen des Spielfeldes (3..20): ');
            readln(dim);
     until dim in[3..20];
     dim:=dim-1;
     cl setmatrix;
           end;
       ^M: begin
             life[xpos,eb,(dim-ypos)] := not
                                     life[xpos,eb,(dim-ypos)];
             if life[xpos,eb,(dim-ypos)] then write('X')
                                        rite('Maximale Anzahl von Nachbarzellen um geboren');
           write(' zu werden (',code[2],'..26): ');
           read (code[3]);
     until (code[3]>=code[2]) and (code[3]<27);
end;

{   Die folgenden Routinen gehoeren zu Menuepunkt 3 }

proced            'I': y   :=y-20;
                'O': z   :=z+100;
                'N': z   :=z-100;
                 ^H: zoom:=zoom+20;
                 ^U: zoom:=zoom-20;
            end;
     until ch=#27;
end;




{----------------------------->0 then xpos:=xpos-1
                                 else xpos:=dim;
      'M':  if ypos<dim then ypos:=ypos+1
                                   else ypos:=0;
      'I':  if ypos>0 then ypos:=ypos-1
                                 else ypos:=dim;

     until code[0]<27;
     repeat
           gotoxy(1,2);
           write('Maximale Anzxahl von Nachbarzellen um am Leben');
           write(' zu bleiben (',code[0],'..26): ');
           read(code[1]);
     until (code[1]>=code[0]) and (code[1]earlife;
end;

procedure setversion; { Menuepunkt 2 }

begin
     clrscr;
     repeat
           gotoxy(1,1);
           write('Minimale Anzahl von Nachbarzellen um am Leben');
           write(' zu bleiben (0..26): ');
           read(code[0]);Wieviel Prozent soll ausgefuellt werden: ');
           readln(s);
     until (s>0) and (s<=100);
     s:=1-(s/100);
     for i:=0 to dim do
         for j:=0 to dim do
             for k:=0 to dim do
                 if random>s then life[i,j,k]:=tееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееrocedure makefilm(x,y,z,s:real);

var
   ch:char;
begin
     clrscr;
     gotoxy(20,10);writeln('Funktion nicht implementiert');
     gotoxy(21,12);write('Bitte ESC Taste druecken');
     repeat
           read(KBD,ch);
     until ch=#27;
end;
   (j1>=0) and (j1<=dim) and
                     (k1>=0) and (k1<=dim)) then
                             if life [i1,j1,k1] then sum:=sum+1;
             end;
      if life[i,j,k] then sum:=sum+1;
      if life[i,j,k] then
         if (sum<code[0])Programm beenden');

 read(KBD,ch);
 case ch of
   '1':setdim;
   '2':setversion;
   '3':editor;
   '4':randomlife;
   '5':runlife(x,y,z,300);
   '6':makefilm(x,y,z,300);
   end;
 until ch='E';
end;

begin
     code[0]:=4;code[1]:=5;code[2]:dim do
         for j:=0 to dim do
             for i:=0 to dim do
                 if life[i,j,k] then
                      cube(x+i*s1-j*s1,y-k*s2,z-(j*s1+i*s1),s3);
end;


procedure runlife(x,y,z,s:real); { Menuepunkt 5 }

var
   ch:char;
brue
                               else life[i,j,k]:=false;
end;

function checklife(i,j,k:integer):boolean;

{ Untersucht die Nachbarchaft der Zelle an der Position i,j,k
   und gibt den neuen Zustand zurueck. Zellen am Rand haben
   natuerlich we-------------');
 writeln('Life ',code[0],'-',code[1],'-',code[2],'-',code[3]);
 writeln('Spielfelddimension= ',dim+1);
 gotoxy(20,8);writeln('** 1 ** Spielfeld dimensionieren');
 gotoxy(20,10);writeln('** 2 ** Transformationsregeln festlegen');
 goto

procedure menue;

var
   x, y, z  : real;
   ch       : char;
begin
repeat
 x:=0; y:=600; z:=1800; zoom:=400;
 herkulesgrafik_ausschalten;
 clrscr;
 writeln('***  Life-3D  ***    1988 by Rainer Urian');
 writeln('---------------------------- or (sum>code[1]) then checklife:=false
                                     else checklife:=true;
      if not life[i,j,k] then
         if (sum<code[2]) or (sum>code[3]) then checklife:=false
                                     else checklife:=true;=5;code[3]:=5;
     dim:=8;
     clearlife;
     menue;
end.
5':runlife(x,y,z,300);
   '6':makefilm(x,y,z,300);
   end;
 until ch='E';
end;

begin
     code[0]:=4;code[1]:=5;code[2]:egin
     herkulesinitialisierung;
     herkulesseite(1);
     herkulesgrafik_einschalten;
     movecube(x,y,z);
     repeat
           drawfield(x,y,z,s);
           read(KBD,ch);
           if ch<>#27 then newfield;
     until ch=#27;
end;

pniger Nachbarn }
var
   i1, j1, k1, sum  : integer;
begin
     sum:=0;
     for i1:=(i-1) to (i+1) do
         for j1:=(j-1) to (j+1) do
             for k1:=(k-1) to (k+1) do begin
                 if ((i1>=0) and (i1<=dim) and
                  xy(20,12);writeln('** 3 ** Spielfeld editieren');
 gotoxy(20,14);writeln('** 4 ** Anfangsstellung zufaellig setzen');
 gotoxy(20,16);writeln('** 5 ** Life starten');
 gotoxy(20,18);writeln('** 6 ** Life-Film erzeugen');
 gotoxy(20,20);writeln('** E ** ;
end;

procedure drawfield(x,y,z,s:real);
              { Zeichnet den Life Wuerfel von hinten nach vorne }
var
   i, j, k     : integer;
   s1, s2, s3  : real;
begin
     hclrscr(1);
     s1:=s/(dim+1);s2:=s2*1.41;s3:=s1*0.8;
     for k:=0 to 
end;

procedure newfield; { Berechnet neue Generation }

var
   i, j, k  : integer;
begin
     for i:=0 to dim do
         for j:=0 to dim do
             for k:=0 to dim do
                 newlife[i,j,k]:=checklife(i,j,k);
     life:=newlifeЙЂ Й           Ђzя LINBUF                                                                                                                                                                                                                                    ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее     XOR  A
        LD   (DE),A
        POP  DE
        JR   edib

copy:   LD   HL,noc   ; check buffer length on overflow
        LD   A,(DE)
        CP   (HL)
        JR   NC,cpybuf
        LD   (HL),A

cpybuf: PUSH DE       ; copy buffer
       @B Ђ                                                                                                                                                            Ђ   ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее0,0


ftest:  LD   A,C      ; read console buffer ?
        CP   rdbuf
        JR   NZ,next

        LD   A,D      ; initialized input buffer ?
        OR   E
        JR   Z,next

        LD   (ret$sp),SP
        LD   SP,loc$sp

        PUSH Й                                                                                                                                     ГГ   яLINBUF     yю
 йzі(енsx1xХэН	Сю(
ХЇС!rѕ0wХNЇGн°СХН	  
Н	б#rN н°н{xЙ                 LD   DE,0
        LD   C,rdbuf
        CALL next
        POP  HL
        INC  HL
        LD   DE,noc
        LD   C,(HL)
        LD   B,0
        INC  BC
        LDIR

        LD   SP,(ret$sp)
        RET


noc:    db   0        ; charact     LD   C,(HL)
        XOR  A
        LD   B,A
        INC  BC
        INC  DE
        LDIR
        LD   (DE),A   ; mark buffer end
        POP  DE

edib:   PUSH DE       ; edit initialized buffer
        LD   C,setdma
        CALL next
             title 'Line Buffer Function for CP/M 3 nonbanked system'

        ; Rev. 01/22/89
        ; by Werner K.G. Muenchheimer, 5469 Windhagen


        .Z80
        cseg
        org  0

ETB     equ  23       ; CTRL-W

dcio    equ  6        ; ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееDE       ; check for previous line recalled
        LD   C,dcio
        LD   E,0FDH
        CALL next
        POP  DE
        CP   ETB
        JR   Z,copy

        PUSH DE
        INC  DE
        INC  DE
        LD   (DE),A
        INC  DE
                                                                                                                                                                                                                                                              Ђ   er count store
        ds   255      ; 255 byte character buffer

        ds   6        ; local 3 level stack
loc$sp  equ  $
ret$sp: dw   0        ; return stack pointer

        end
3H           ; jump
        dw   0              ; next module in line
prev:   dw   0              ; previous module
remov:  db   0              ; remove flag reset
nonbnk: db   0FFH           ; nonbank flag set
        db   'LINBUF  '
        db   0,direct console i/o
rdbuf   equ  10       ; read console buffer
setdma  equ  26       ; set DMA address


   ; RSX prefix structure

        db   0,0,0,0,0,0    ; room for serial number
        JP   ftest          ; begin of program
next:   db   0CЂ	Н ра!саЛ^ L2та>НzЇНzы>Пх
Нzс= цНt· '2та>Нz>Чх
Нzс= цНt· 
•	Н  	Н ¬	Н Н ЗЛF(ьЙЛF(ьЙ
HDPark Version 3.0$

Ready !$

Error !$

Press <RETURN> for system wboot$2     @1 306)
        db 50    ;
        db 4     ; maximum number of heads
        db 0     ; starting reduced write current cylinder
        db 0     ;
        db 0     ; starting write precompansation cylinder
        db 0     ;
        db 5     ; maximumL wtdta      ; send drive parameters
        POP  AF
        DEC  A
        JR   NZ,iniprm

        CALL rddta      ; get completion byte
        OR   A          ; and check for error
        JR   NZ,err

;

        LD   (selrg),A ; select contrееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее  0,(HL)   ; read data
        JR   Z,rddta
        LD   A,(DE)
        RET

wtdta:  BIT  0,(HL)   ; write data
        JR   Z,wtdta
        LD   (DE),A
        RET


   ; message components

srtmsg: db cr,lf,'HDPark Version 3.0$'
endmsg: db message
        LD   C,prstr
        CALL bdos

        LD   DE,dtarg
        LD   HL,statrg

        BIT  3,(HL)     ; check controller busy
        JR   NZ,err

srt:    LD   (selrg),A  ; select controller
        LD   A,inicmd
        CALL wtееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее       JR   NZ,seek

        CALL rddta     ; get completion byte
        OR   A         ; and check for error
        JR   NZ,err

        LD   DE,endmsg ; print end message
        LD   C,prstr
        CALL bdos
        JR   exit

err:    LD  oller
        LD   A,sekcmd
        CALL wtdta     ; send seek command

        LD   A,5
        LD   BC,parms
seek:   PUSH AF
        LD   A,(BC)
        INC  BC
        CALL wtdta     ; send command parameters
        POP  AF
        DEC  A
         title 'HD-Park for WD1002/ OMTI 5520 Controller'

        ; Rev. 12/09/88
        ; by Werner K.G. Muenchheimer, 5469 Windhagen


        .Z80
        aseg
        org 0100H

slot    equ 070H        ; slot 7
dtarg   equ 0E080H+slot ; datlf
        db cr,lf,'Ready !$'
errmsg: db bell
        db lf
        db cr,lf,'Error !$'
exmsg:  db lf
        db cr,lf,'Press <RETURN> for system wboot$'


   ; drive parameters for 10 MByte NEC

param:  db 1     ; maximum number of cylinders (dta      ; send init parameters command

        LD   B,5
        XOR  A
iniseq: CALL wtdta      ; send dummy parameters
        DJNZ iniseq

        LD   A,8
        LD   BC,param
iniprm: PUSH AF
        LD   A,(BC)
        INC  BC
        CALееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее DE,errmsg ; print error message
        LD   c,prstr
        CALL bdos

exit:   LD   DE,exmsg  ; print exit message
        LD   C,prstr
        CALL bdos
        LD   C,conin   ; get response
        CALL bdos
        RST  wboot


rddta:  BITnction code
prstr   equ 9           ; print string  function code

bell    equ 07H
lf      equ 0AH
cr      equ 0DH

sekcmd  equ 0BH         ; seek command
inicmd  equ 0CH         ; init parameters command


        LD   DE,srtmsg  ; print start a   register
statrg  equ 0E081H+slot ; status register
selrg   equ 0E082H+slot ; select register

wboot   equ 0           ; entry point for system wboot
bdos    equ 5           ; entry point for system calls
conin   equ 1           ; console input fu ECC data burst length

   ; seek command parameter block

parms:  db 0
        db 040H  ; cylinder 305
        db 031H  ;
        db 0
        db 5     ; 70 us step rate

        end
 begin
    for i := 0 to 3 do
    begin
      xpos[i] := xpos[i] + xoffset[figur_typ,typ_pos,i];
      ypos[i] := ypos[i] + yoffset[figur_typ,typ_pos,i];
    end;
    typ_pos_alt := typ_pos;
    if ((figur_typ < 3) and (typ_pos = 1)) then typ_pos := count      : integer;
   max_count  : integer;
   i,j        : byte;
   taste      : char;
   abbruch    : boolean;
   score      : integer;


procedure init_array;

begin
  for i := 0 to 9 do
    for j := 0 to 23 do
      feld[i,j] := 0;
enееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее
          begin
            feld[l,k] := feld[l,k+1];
          end;
        for l := 0 to 9 do
        feld[l,19] := 0;
      end;
    until (summe <> 10);
  end;
end;


procedure figur_down;

begin
  for i := 0 to 3 do ypos[i] := ypos[i] ,-2),(1,0,-1,0),(-1,0,1,2)),
      ((-2,-1,0,1),(0,1,0,-1),(2,1,0,-1),(0,-1,0,1)),
      ((-1,0,-1,1),(1,0,-1,-1),(1,0,1,-1),(-1,0,1,1)));


var
   feld       : array [0..9] of array [0..23] of byte;
   xpos       : array [0..3] of byte;
   ypos   ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееest_belegt := false;
  for i := 0 to 3 do
  begin
    if (feld[xpos[i],ypos[i]] = 1) then test_belegt := true;
  end;
end;


procedure erase_lines;

var
   summe : byte;
   k,l   : byte;

begin
  for i := 0 to 19 do
  begin
    repeat
   d;


function test_rand: boolean;

begin
  test_rand := false;
  for i := 0 to 3 do
  begin
    if (xpos[i] > 9) then test_rand := true;
    if (ypos[i] > 23) then test_rand := true;
  end;
end;


function test_belegt: boolean;

begin
  tprogram tetris;
{$C-,U-}

type
    offset = array [0..5] of array [0..3] of array [0..3] of integer;


const
     key_right  = ^U;
     key_left   = ^H;
     key_rotate = ' ';
     drop_key   = ^M;
     xoffset: offset =
     (((1,0,-1,-2),(-1- 1;
end;


procedure figur_right;

begin
  for i := 0 to 3 do xpos[i] := xpos[i] + 1;
end;


procedure figur_left;

begin
  for i := 0 to 3 do xpos[i] := xpos[i] - 1;
end;


procedure figur_rotate;

begin
  if (figur_typ <> 6) then
     : array [0..3] of byte;
   xpos_alt   : array [0..3] of byte;
   ypos_alt   : array [0..3] of byte;
   figur_typ  : byte;
   typ_pos    : byte;
   typ_pos_alt: byte;
   ende       : boolean;
   drop       : boolean;
   loop       : integer;
  ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее   summe := 0;
      for j := 0 to 9 do
      begin
        summe := summe + feld[j,i];
      end;
      if (summe = 10) then
      begin
        score := score + 20;
        if i < 19 then
        for k := i to 18 do
          for l := 0 to 9 do,-1,-1),(1,0,1,-1),(-1,0,1,1),(-1,0,-1,1)));

     yoffset: offset =
     (((-1,0,1,2),(1,0,-1,-2),(0,0,0,0),(0,0,0,0)),
      ((1,0,-1,-2),(-1,0,1,2),(0,0,0,0),(0,0,0,0)),
      ((-1,0,1,2),(1,0,-1,-2),(0,0,0,0),(0,0,0,0)),
      ((-1,0,1,0),(1,0,-1,0,1,2),(0,0,0,0),(0,0,0,0)),
      ((1,0,1,0),(-1,0,-1,0),(0,0,0,0),(0,0,0,0)),
      ((1,0,1,0),(-1,0,-1,0),(0,0,0,0),(0,0,0,0)),
      ((1,0,-1,-2),(1,0,-1,0),(-1,0,1,2),(-1,0,1,0)),
      ((0,1,0,-1),(2,1,0,-1),(0,-1,0,1),(-2,-1,0,1)),
      ((1,0 0
    else if (typ_pos = 3) then typ_pos := 0
    else typ_pos := typ_pos + 1;
  end;
end;


procedure setze_figur;

begin
  figur_typ := random(7);
  typ_pos := 0;
  typ_pos_alt := 0;
  case figur_typ of
    0: begin
         xpos[0] := 4;                          if (test_belegt or test_rand)
                               then
                               begin
                                 neu_alt;
                                 typ_pos := typ_pos_alt;
                       e loesche_figur;

begin
  for i := 0 to 3 do
  begin
    if ypos_alt[i] <= 19 then
    begin
      gotoxy (30+2*xpos_alt[i],22-ypos_alt[i]);
      write (' .');
    end
  end
end;


procedure tasten_decoder;


begin
  read (kbd,taste);
  := 6;
         ypos[0] := 19;
         ypos[1] := 19;
         ypos[2] := 18;
         ypos[3] := 18;
       end;
    3: begin
         xpos[0] := 4;
         xpos[1] := 5;
         xpos[2] := 6;
         xpos[3] := 6;
         ypos[0] := 18;
              then
                               begin
                                 neu_alt;
                               end
                               else
                               begin
                                 loesche_fig;


procedure alt_neu;

begin
  for i := 0 to 3 do
  begin
    xpos_alt[i] := xpos[i];
    ypos_alt[i] := ypos[i];
  end
end;


procedure neu_alt;

begin
  for i := 0 to 3 do
  begin
    xpos[i] := xpos_alt[i];
    ypos[i] := ypos_alt[i
         xpos[1] := 5;
         xpos[2] := 6;
         xpos[3] := 7;
         ypos[0] := 19;
         ypos[1] := 19;
         ypos[2] := 19;
         ypos[3] := 19;
       end;
    1: begin
         xpos[0] := 4;
         xpos[1] := 5;
                          neu_alt;
                               end
                               else
                               begin
                                 loesche_figur;
                                 display_figur;
                   case upcase(taste) of
               key_right:    begin
                               figur_right;
                               if (test_belegt or test_rand)
                               then
                               begin
                       ypos[1] := 18;
         ypos[2] := 18;
         ypos[3] := 19;
       end;
    4: begin
         xpos[0] := 4;
         xpos[1] := 4;
         xpos[2] := 5;
         xpos[3] := 6;
         ypos[0] := 19;
         ypos[1] := 18;
        ur;
                                 display_figur;
                                 alt_neu;
                               end;
                             end;
               key_rotate:   begin
                               figur_rotate;
     ];
  end
end;


procedure display_figur;

begin
  for i := 0 to 3 do
  begin
    if ypos[i] <= 19 then
    begin
      gotoxy (30+2*xpos[i],22-ypos[i]);
      lowvideo;
      write ('  ');
      normvideo;
    end
  end
end;


procedur  xpos[2] := 5;
         xpos[3] := 6;
         ypos[0] := 18;
         ypos[1] := 18;
         ypos[2] := 19;
         ypos[3] := 19;
       end;
    2: begin
         xpos[0] := 4;
         xpos[1] := 5;
         xpos[2] := 5;
         xpos[3]               alt_neu;
                               end;
                             end;
               key_left:     begin
                               figur_left;
                               if (test_belegt or test_rand)
                  := 18;
       end;
    6: begin
         xpos[0] := 5;
         xpos[1] := 5;
         xpos[2] := 6;
         xpos[3] := 6;
         ypos[0] := 18;
         ypos[1] := 19;
         ypos[2] := 18;
         ypos[3] := 19;
       end;
  end;
end ypos[2] := 18;
         ypos[3] := 18;
       end;
    5: begin
         xpos[0] := 4;
         xpos[1] := 5;
         xpos[2] := 5;
         xpos[3] := 6;
         ypos[0] := 18;
         ypos[1] := 18;
         ypos[2] := 19;
         ypos[3]        end
                               else
                               begin
                                 loesche_figur;
                                 display_figur;
                                 alt_neu;
                           ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее true;
                neu_alt;
                score := score + 5;
              end
            else
              begin
                loesche_figur;
                display_figur;
                alt_neu;
              end;
          end;
 gotoxy(29,23);
  write('----------------------');
  gotoxy(1,7);
  write('Score : ',score);
end;


procedure speed;

begin
  case score of
       0..999:         max_count := 2000;
       1000..1999:     max_count := 1500;
       2000..2499:  ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее;
          count := count + 1;
        until ((count = max_count) or drop);
        if drop then
          begin
            repeat
              figur_down;
              abbruch := test_belegt or test_rand;
              if not abbruch then alt_    end;
                             end;
               drop_key:     begin
                               drop := true;
                             end;
  end;
end;


procedure display_feld;

begin
  for i := 19 downto 0 do
  begin
    goriteln('*** TETRIS ***');
  gotoxy(28,12);
  write('Press any key to start !');
  repeat until keypressed;
  read(kbd,taste);
  repeat
    write(chr(6));
    game;
    write(chr(5));
    gotoxy(1,19);
    write('Play again (Y/N)?');
    repeat
     until abbruch;
      for i:= 0 to 3 do
      begin
        feld[xpos[i],ypos[i]] := 1;
      end;
      erase_lines;
      display_feld;
      speed;
    end;
  until ende;
end;


{hauptprogramm}

begin
  clrscr;
  gotoxy(33,10);
  w   max_count := 1000;
       2500..2999:     max_count := 750;
       else            max_count := 500;
   end;
 end;



procedure game;

begin
  randomize;
  clrscr;
  normvideo;
  gotoxy(1,4);
  writeln('*** TETRIS ***');
  gotoxy(1,11);ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееneu;
            until abbruch;
            neu_alt;
            score := score + 10;
          end
        else
          begin
            figur_down;
            if (test_belegt or test_rand) then
              begin
                abbruch :=toxy(29,22-i);
    write ('!');
    for j := 0 to 9 do
    begin
      if (feld[j,i] = 1)
      then begin
          lowvideo;
          write ('  ');
          normvideo;
      end
      else write (' .');
    end;
    write ('!');
  end;
        read(kbd,taste);
    until upcase(taste) in ['Y','N'];
  until upcase(taste) = 'N';
  clrscr;
end.
;
  repeat
    write(chr(6));
    game;
    write(chr(5));
    gotoxy(1,19);
    write('Play again (Y/N)?');
    repeat

    setze_figur;
    ende := test_belegt;
    if not ende then
    begin
      display_figur;
      alt_neu;
      repeat
        count := 0;
        repeat
          if keypressed then
          begin
            tasten_decoder;
          end
  writeln('Keys');
  writeln('Move left  : <-');
  writeln('Move right : ->');
  writeln('Rotate     : SPC');
  writeln('Drop       : RET');
  init_array;
  score := 0;
  display_feld;
  speed;
  repeat
    abbruch := false;
    drop := false;Г%    =          *    яя!Гb!	е:…o|О g:‚W:·КCНЃw#rбе:…o|О g:ѓW:·К`НЃw#rбF#N#еЕН—
БбВd:·И=х Н—
сГtЕяzЦ
Т…Ж:WxЖ0БЙCOPYRIGHT (C) 1982 by Н'Michael J. Karas, MICRO RESOURCES НУгFл!\НZ! сИй!R
F#~Ж0#ВнН' - SerВшН{!~ю0В6 #ВН'00000 K Bytes Нц
ГБНПН¶
Н }·ВKНµНц
ГБ:\ хНН'Space of  НzюКqЦAєТ•<2\ Н'  НКН¦Н' Bytes Free Нц
с2\ ГБсНџНц
ГБН' ? ЙБН{!Б~ю0Вѕ6 #В±Н'00000 K Й: ж2Т :\ =_Н Н  	F###^#VxЦ! ·Кь)=ГуMD!  Н К
Н—НљГ
Н
 *» л*Б Н В3:·В=
*Г л!( Н ФфНљГI
НфН 
 !ж!"» Г3 НП>
2К :К =2К Гп	НПН¶
НН'Exit WASH  Г  *  еЙ*  еЙ* 	 еЙ!  y·К°
=Г§
]>ЂWЙ:·А Н%Й:·А*»  Н#е
Но
НН'XXXXXXXX.XXX  : Й:·ИН
 &НфН| НфНVН
   sp   Next File  |  V   View at CRT    C   Copy File    |  S   Start New
   cr   Next File  |  L   List File      D   Delete File  |      Disk Drive
   B    Backup     |  P   Punch File     F   Show Size    |   (*.* assumed)
  ,}юЪ	. "Л Й*Л }ю Вѓе*Г л!( Н бТN|·Вѓ*Г л!  $|ю
ЪD& ,}юЪD. zіВ2"Л Й|юТѓ.& "Л л*» Н*» ж!Н Вu*Б   Н	НшЙ*Л %|<В–&	-}<В–."Л Й*Л MDН 
>ѓ_Н%Й:·А*Л MDН 
ХН%Н> С>ѓ_Н%Н< Й:·А*Л MDН 
ХН%Н  С>ѓ_ХН%Н   СН%ЙН
a
НЄН…
·КНЋ
Гы:·Мљ:g.яеН…
б·В.+|µВ:·В;НlНљНЋ
ю ЪNюКNхOН—
сН+ю Кй	юКй	юZКY
юBКL	юTКх:·МlсюFКSюXКk
юRКBюDКюVКЊюLКћюPК§юCКююMК»юQК`юSКњюUК2Ц ю!КG:·xК	ю(КыН?

   Use "H" command for Help Menu.

 Нщ гFл!1	  Нц
ГБНПН¶
НН'Author  Г©1C !  "Г Ї2Н 2Й 2З 2К 2а!2ё /!Х "О :\ ·ВX: ж<2\ Н^гFл!НZ! сйНл:] ю В’:e ю В’!] 6?#В€Г’Ђ Н Ї2h 2| \ Н юяВ]Н
 ++ None Found ++   Relog (Y/N) ?   Н•Н+юYВ‚
>я2ё Гњ:·Вы  Н%НН
'X ЙЇ2Е 2Ж KBГ ЕеН 
:Ж ·М%б#њНҐН«~#е:·К?#лpбе Нл*Б Н В’:Е ·ВiНфН    Гp:З ·Мб!ж!е*Г л!( Н Тб>я2Е :З жя2Ж Гб:Е ·ВґНXXXXXXXX.XXX   :     Гббеу!Н КН:Й ·Вб:З ·Вб:Ж ·КЮбБЕеН 
Н%НбБxю
ВyюВ:Е 2З ЙKBГя	Е Й:·ИН   ЙН                     Й:·Вг~жO#Кjе:Н юяКf<2Н *О yюК^ю
К^ю	К^юК^> w#"О Н—
бГ/гЙ:·АН¶
!Х "О :Н ·ИGЇ2Н ЕеNН—
бБ#В„Н¶
Йx·В¦НЋ
ю ШхНьсЙХХЕНЋ
юВёБЕГМюКаюКаю Ъ©хНьсБСюКХВ§лСНEЙБСбеХЕН К©Н  БСХЕГ©2Н Z    Zip Ahead  |  (any key aborts)   R   Rename File  |  U   Disk Space
   T    Toggle Tag |  M   Tagged Copy    Q   Tagged Dlete |  X   Reboot Sys
 :·КШН
   ---> Reprint command menu with "H" command

 Й&ХН С}·Вк6Н%:\ Ж@OН—
Н }·И НлГБНП*»  Н ~/w·:К"#:·К8y2ЮНц
>2К ГБН>Гп	Е*Л DMН 
>ѓ_Н%БН—
ЙНПН¶
НН }·ВoНµНц
ГБНГ
*»  НE Н!Q 6 #В€Ї2e E #Н Н'  Size =  :h ·!яяВµ*f РН{!Р~ю0ВН6 #ВАН'00000 Rec(s),  :h ·!  В*f }жКц ·|g}oНZ! сйГБН¶
Н'???? Unknown Command  НПН7	 гFл!О	НZ! сЙйГыНП*» у!Н В•	:·ВЂ	:Й ·х>я2Й сК‹	*Г л!( Н ФѓГ‹	Н
 Нф*Б  "» :·КҐ	Н
<   *»  Н"» :·В3*Г  Н К3ННљНФ	 гFл!S
НZ! с1йГ3НПГп	>я2Й :·В
*Г     ++++++  Wash ---- patched by Harri Hammerhand - CP/M 2.2 & 3.0  ++++++ 
 :·В Н }·ВsН                 Н      [Current Active Directory Drive  :] Н
   Screen Controls |          File Operations             |   Miscellaneous
  НJНфН|еН 
Н%б#sН|Н‚~#хХ ННСсе:·К4#лpбе ж!Н КVбе л*Б Н ВpНфН    б*Б  НеГ€НXXXXXXXX.XXX   :     бБx<Вяy<ВэЙ*Г л!( Н ТХ*Г л!  $|ю
Ъѕ& ,}юЪѕ. zіВ¬л*Л Н Вф!  "Л Й*Л }юВф|юЪф!  "Л   *» НЙ*Л $|ю
Ъ	& гFл!еНZ! сй!ж!"» :·В3  л"Л л*» Н:·В]*»  "» НљГы*» ж!Н В] "» :·Кы*» ЛНРНЩНЮ~#"» :·КЏ#лp:ЛЖ@2ЛН ·К¶ яН WНЃ!Мw#rГБ!Л~6 #6 #w:·К*	НX00: XXXXXXXX.XXX  :  Нй гFл!фНZ! с1й:К ·В(Н%Н User   яН 2Ї WНЃ!&w#rН00 --- Space  НkН Bytes]  Н%Й:2µ >я2Й:µ 2Й!ж!"» ж‡‡‡‡‡OЁ!Ђ 	:\ wл*» лНл6 #ВЃ"» *Г #"Г \ Н юяВc*» "Б "Ц!у!Н К!ж!"Ѕ  "ї *ї л*Ѕ еХНZСбЬd*ї  "ї л*Б Н Вѕ*Ѕ  "Ѕ "ї л*Б Н ВѕН "У ЕХН СБ"Р &%В *Р ~#"Р &Ъ-е*У 	"У бozі}В:Т _Н НАЙ*»  Нm ННПН¶
НГ
Н'  New Name ?  – Н•!• Ї°x2• Кп	#~Н+wВЃ!} 6 #е6 #В”бл!• N!– лю ВіКГҐеi& 6 бН3Ъю Кю.Кжw#ВЅН3Ъю Кю.КжГУ!† Н3Ъю Кю.Кw#ВлееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееНН'Mass Copy ГН'  Ї2ґ Н' To  НzюVК;ЦAєЪTНџНц
Гп	>я2ґ Н' Verify Read  Гр<2m Н ·:m !\ ВnѕВрГјѕКy:·КрН'  To Н5{юяКрюТіХя Н С»В§:m O:\ №Кј{2· >я2і ГрНџНц
Гп	Н'
 ++ Cannot Select Same Disk as Source ++ Нц
Гп	:а!·КэНц
Г:ґ :а!жюКK*б!лХ*» Н Т Н"» :·В:СХ*г!Н Т: Н"г!бе Н"б!СГZ*» е Н"» лбле*Б Н блКoНГZл"Б ж!Н Ви*» Н ВиНц
Нц
Нk:·В®  !ж!Н Н 
Н%ННlН' *** List Empty ***   Relog (Y/N)?   Н•Н+юYВ‚
НlГњ*Г +"Г :·К:а!жюВНцН'  New Н5{юяКП{юТП Н Н > 2] 2e Нц
Нц
Г(Н' User (0-15) ?  ° Н•x·яИ!°   ~НpKШYеo& лбИеkb)))лб#Г[Н'Drive (A- Н ·ВџН'D) ?  ХГ«Н'P) ?  Х Н•Н+СЙН' ++ Function requires CP/M Ver 2.2 ++ ЙН' ++ Not Found ++ ЙЕН'- БВфЙ*Б еНѓ*Л |µбВтж!Н В*Б Й НЙyю	В9 Н9:Я!жВ+Й>ЎOЕ:Ю!_ * MХйБy!Я!юИ4ю Р5ю
А6 ЙНПН¶
НН'Confirm Each Delete (Y/N) ?   Н•Н+юN>яКљ>ю2а!!Щ!"б!:·В*Л еНз"г!б"Л Г>я2а!!Щ!"б!:·В*Л еНз"г!б"Л Г*б! л*Б Н л7И"б! ~·КЮ6 ЙЇ2!‰ 6 #Вn !~ жЂG>¦°w#В:m 2E !~ F Н!Q 6 #В:E Н юяКtН'
 ++ Name Already Exists ++ Нц
ГБm Н хН сG}·К›xюяВ›Н'
 НЯГп	*»  Нл!~ Н:·КР!~ РНН>2К Нц
ГБ!Л N#FН 
Н%!~ рНННXXXXXXXX.XXX    Н ·В'*Ш!Ђ "Ш!*Ь!#"Ь!л*Ъ!Н ВфГ,>я2е!:ґ ·ВЈ*Ц!"Ш!*Ь!|µКЈ+"Ь!*Ш!елН бЂ "Ш!Нm Н хН7с·К9Н'
 ++ Disk or Directory Full or Error on Write ++ Гп	:е!·Ки:ґ ·ВНm Н хН7сюяВкН'
 ++ Destination Close Error ++ :·В:і ·К:E !m ѕВ·ВЋНm Н юяКQН'  Replace (Y/N) ?   Н•Н+юYКIхН7сюхМц
сКп	Гm Н m Н юяВ‹Н'
 ++ Destination Directory Full ++ Н7Гп	Н7  * +л*Ц!ХЂ СН Т™x±ВЯН'
 ++ No Memory Available for Copy Buffer ++ Гп	i`"Ъ!Ї2е!!  "Ь!*Ц!"Ш!*Ш!лН E 
НLГJ*Г л!' Н Вm!  "Л !ж!"г!л*» Н К7! лХНфСГ!:а!жюКd*б! е*» НлбН хДѓсВd*»  "»   !ж!Гй:а!жюКв*б! л*г!Н Ъ¶КС*Л еНBб·Ве*Л лбеХ|eozS_Н Сб"Л ХЬѓС*б!Гй*Г л!( Н Т‰*Л |µКвНѓГ*Л |µДѓ  *г!Гй*Л л*» Н*Г  Н В!  "Л НљzјА{ЅЙ}“o|љgЙ~ж#ВЙг~жO#К)еН—
бГгЙжю`Шж_Йю Шю_ТXю=КXю:КXю;КXю<КXю>КX·Й7ЙѕАИ#ГZNwy#ВdЙю0Шю:?ШЦ0·ЙхЕХ л	лХ>2Іцяяя	Ъђ
 	л{Ж0С:І=К®2ІХГЉСБсЙ              хЕХН }*У ю1 !.:\ =_Н Э!Ђ ЭЛ>ЭЛЭЛ т*Ђ СБсЙ           а!НПН¶
:а!·ВхНГ
*»  НГ”НЮТ.Ї2а!Нц
Гп	:·ВF*Л еНB·:М>б"Л Нц
Нl*б!#jННН'Copying "XXXXXXXX.XXX"  :ґ ·К‘Н' Verify Read  *б!E Н!Q 6 #ВЎЇ2e  !F n НE Н юяВоН' ++ Source File Cannot Be Opened ++ Гп	:а!·ВэЇ2і :а!·КГп	Н' ? Нц
ГБЇ2а!НПН¶
:а!жюВCНГ
Н'  Delete ?   Н•Н+юYВп	ГВНЮТSЇ2а!Нц
ГБНlНц
*б!#xННН'Deleting "XXXXXXXX.XXX"  :а!юяКјН'(Y/N) ?   Н•Н+юYКјх*б! ~/wсюК;Г*б!ГЛ*»  Нm Нm Н хН сG}·КфxюяВфНЯГп	Н' Deleted Нk:а!·Кп	Н…
·КНЋ
юКп	Г:і ·Ия Н 2¶ :· _ Н Й:і ·И:¶ Г0!  "Л *г!"Ѕ *Ѕ л*Б Н Вx( *Г Н Т—Нф*Л |µК—!ж!"Ѕ *б!л*Ѕ Н Кљ "Ѕ Нф*Л |µВN>яЙЇЙНПН¶
:·В¶Н'Log a  Г№НН'New  НzюКПЦAєЪЯНџНц
:ё ·В‚
ГБ<G:\ Ox2\ ЕН Б·К:·В:\ №Вed ++ Гп	Ї2e E Н ·КГo!Ђ Ђ~юКoOЕеН%Н…
бБ·В>#В!ГЕеНЋ
бБюКUН+юSКUГ_ЕеНЋ
бБГ6:·К{Нц
Нц
ГБ:·хДц
сВБ:И ·КБН

 ----> Depress any key to quit View  Н…
·К»НЋ
Г®:ж.я+|µВЗНЋ
Нл*Л еНз  Нб"Л ГБ*Л |µ*» К НЩ!Н ВНkНL:а!жюВ&Нц
:·ВJ*»  "» ГJН…
·К5НЋ
юК;НЮТSЇ2а!:·МљНц
ГJ*» л*Б Н А*»  Н"» :·АНѓН }·ИНBНКе;Н%бНJН¦НVЙ>я2И Н

 >	Г­Ї2И >Г­Ї2И >2Ю!Ї2Я!*»  НE НЂ Н !Q 6 #ВТE Н юяВ	Н' ++ File Cannot Be Open1к'ГјWASH DIRECTORY UTILITY TERMINAL INSTALLATION PROGRAM - COPYRIGHT (C) 1981,1982 BY MICHAEL J. KARAS of MICRO RESOURCES, 2468 HANSEN COURT SIMI VALLEY, CALIFORNIA 93065  (805) 527-7922НЏНЋ!
WASH 3.21 Installation Program VER 1.2
Copyright (C) 1982 bur terminal  that  contains
   the  code  for  the  Addressed  Cursor  COL.   For
   ANSI/ASCII  cursor addressing where two  character
   positions  may  be  used for COL  then  enter  the
   position that contains the first character.  Valid
   entrh a full feature 24 x 80 CRT Terminal. Enter
   "S"  for  Scroll  mode operation or  "F"  if  your
   console is a Full feature display device.  A  Full
   feature  CRT  requires the console to  respond  to
   Cursor   Addressing   and  Clear  Screen  !е##^#V{ІбВaНЋ!
  +++ Undefined Terminal Type +++
  +++ Depress any key to Continue... Нj!ГЫХеНЋ!
Selected type is б^#V	Н НЋ!
Depress <cr> to Use This Selection... Нj!СюВЫл(Нѓ!ГВНЏНЋ!
 *** Currently Installed WASH Configuration ***
 :(· for  your   terminal   that
   contains  the code for the Addressed  Cursor  ROW.
   For   ANSI/ASCII   cursor  addressing  where   two
   character positions may be used for ROW then enter
   the  position that contains the  first  character.
   Val all Copy & Log commands Г=НЋ!only if Same Disk is Selected НЋ!

Select Installation Item to Modify
or <cr> to End Installation:  Нj!хНЯ сНЈ!юКP ЦAю
ЪкНЋ!
  +++ Bad Option Select +++
  +++ Depress any key to Continue... Нj!ГВ ‡_!ы^#VлВХйX	^y MICRO RESOURCES НЇНЋ!Depress any key to continue... Нj!(Н м'Н <ВРНЋ!
 +++ WASH.COM File is NOT Present on Default Drive +++
 Г  НЋ!





 НЋ!





 НЋ!





 НЋ!





 Йм'Н НЯ НЏНЋ!    -+-+- Terminal Type Selecti
   your  console uses  the typically standard  offset
   binary   scheme  such  as   ESC,=,row,col.   Newer
   terminals  use  an  ANSI/ASCII  cursor  addressing
   scheme  where  the  row and column  codes  in  the
   sequence are transmitted in ASC Control
   Sequences.

Enter S)croll or F)ull Feature:  Нj!НЈ!юF КVюSКTН	ГX	яy2(НЯ ЙНЏНЋ!

STANDARD OR ANSI/ASCII CURSOR ADDRESSING

   WASH is capable of addressing the Cursor on a full
   feature Console in one of two ways.  Select "S" ifК<НЋ!
(A)  Installed for Scroll/Hard Copy type Console ГtНЋ!
(A)  Installed for a Full Feature CRT type Console НЋ!
(B)  Cursor Position Sequence Type -  :(·ВјНЋ!Standard Format ГСНЋ!ANSI/ASCII Format НЋ!
(C)  Cursor Seq Row Position Start ( :(НIid entries are in hexadecimal and range from 01
   to 0C.

Enter Hex ROW position (01 to 0C):  НC!Ъq·КqюЪwН	Г2(ЙНЏНЋ!

CURSOR ADDRESSING COLUMN CODE POSITION

   Enter  the character position in the Cursor  Addr-
   essing  Sequence for yo{w”==PНЯ НЋ!
+++ Invalid Selection +++
+++ Press Any key to try again... Нj!ЙНЏНЋ!

SCROLL MODE OR FULL FEATURE CONSOLE

   The Wash Directory Program is capable of operation
   with  either a hard copy (or scroll only) terminal
   or witon Menu -+-+-

 !«!Е^#V###е	Н б^#V###е	Н бНЯ БВеНЯ б^#V	Н НЯ НЯ НЋ!  Select option desired or <cr> to bypass ?  Нj!хНЯ сНЈ!юКВю*КфЦAюЪщНЋ!
  +++ Bad Option Select - Try Another +++
  +++ Depress any key to Continue... Нj!ГЫ>Гщ‡‡ _!«II  digits.  Select
   "A" if you have this type of console.

Enter S)tandard or A)scii:  Нj!НЈ!юS КwюAКuН	Г^яy2(НЯ ЙНЏНЋ!

CURSOR ADDRESSING ROW CODE POSITION

   Enter   the  character  position  in  the   Cursor
   Addressing   Sequence :)(·К$!*(G~#ЕеНI!бБК$ЕеНЋ!  бБГНЋ!) НЋ!
(H)  Number of Null Char after Control Seq ( :(НI!НЋ!) НЋ!
(I)  Full Screen Mode Prompt Line Hold Time ( :1(НI!НЋ!) НЋ!
(J)  CP/M Ver 2 User Flag for Copy & Log Commands 
     is Set to Prompt  :0(·КНЋ!on!НЋ!) НЋ!
(D)  Cursor Seq Col Position Start ( :(НI!НЋ!) НЋ!
(E)  Cursor Addr Offset from 0 at HOME ( :(НI!НЋ!) НЋ!
(F)  Cursor Addressing for Row 0 & Column 0
      ( :(·КТ!(G~#ЕеНI!бБКТЕеНЋ!  бБГ№НЋ!) НЋ!
(G)  Clear Screen Sequence
      ( ies  are  in hexadecimal  and range from 01 to
   0C.

Enter Hex COL position (01 to 0C):  НC!Ъm·КmюЪsН	Г{2(ЙНЏНЋ!

CURSOR ADDRESSING ROL/COL CODE OFFSET

   Many  Cursor Addressing sequences require  that  an
   offset  bias  be  added to НЋ!Seventh ЙНЋ!Eighth ЙНЋ!Ninth ЙНЋ!Tenth ЙНЋ!Eleventh  ЙНЋ!Twelfth ЙНЯ НЋ!Are you ready to S)ave or A)bort Installation:  Нj!хНЯ сНЈ!юSКЅ НЯ НЋ!
WASH Installation ABORTED
 Г  :ъ'ж2ъ'Ї2(м'Н м'Н НЯ Г  Нv!
Нv!ЙЦ0ШЖйШЖтш ЖШЖ
·ЙЇ2A!Sequences.  This
   may  be especially true at very high baud rates on
   certain  external RS 232 CRT terminals.  WASH  Ver
   3.2 sends null characters to your console after  a
   control sequence if selected. Enter in hexadecimal
   the number of Ng  sequence to place the cursor at  ROW  0
   and  COL 0 of the screen of your full feature  con-
   sole. If your console does not support cursor addr-
   essing  then install WASH Ver 3.2 to operate in the
   SCROLL mode.  Up to twelve characters maysion of CP/M or want to limit cross  user
   operation  to within the confines of one disk area
   then  select  the Standard  format  with  "S".  If
   operation is to be with CP/M Ver 2 and you want to
   allow  copy and log operations to cross user the cursor to the  Row
   0 Col 0 position. An entry of just <cr> terminates
   the  sequence entry  process  and entry of the "^"
   key backs up to previous byte entry prompt.
 !*(еЕНЋ!
Enter  БxЕНђЕНЋ! Code for Screen Clear Sequence:  БЕНЋ!  Бthe ROW  and  COL  codes
   before  transmitting to the console.  WASH Ver  3.2
   considers  that  the upper left corner of your  CRT
   screen is numbered 0,0.  For ANSI/ASCII type cursor
   addressing the bias is added before cursor  address
   cone at the bottom of the screen.  Due
   to  the fact that the delay is programmed  in  the
   software  its length is dependant upon CPU  speed.
   If  you have a fast CPU select a larger number for
   the Prompt Line Delay.

Enter Erase Delay (00 to ULLs required by your console.

Enter Null Count (00 to FF):  НC!ТLН	Г=2(ЙНЏНЋ!

VIDEO MODE PROMPT LINE ERASE DELAY

   WASH  Ver  3.2 operating in the full  screen  mode
   with  a full feature console automatically  erases
   the  prompt lin be in the
   cursor addressing sequence.  An entry of just  <cr>
   terminates  the sequence entry process and entry of
   the "^" key backs up to previous byte entry prompt.
 !(еЕНЋ!
Enter  БxЕНђЕНЋ! Code for Cursor Address Sequence:  БЕНЋ!  Бareas
   even  if the selected disk is different then  pick
   "A".

Enter S)ame disk or A)lways prompt:  Нj!НЈ!юS К€юAК†Н	Гяy20(НЯ Й=o& )ћ^#Vлй¶ВПЫиф    ' 3 B НЋ!First ЙНЋ!Second ЙНЋ!Third ЙНЋ!Fourth ЙНЋ!Fifth ЙНЋ!Sixth ЙВшНC!ТНЯ Н	ГѕБбO:A!·В7:B!·К.xюКј+Гјq#xюВјx2)(ЙНЏНЋ!

CONTROL SEQUENCE NULL CODE PADDING

   Many  Terminals  cannot accept characters sent  to
   them immediately after a control sequence such  as
   a Cursor Position or Clear Screen version  to ASCII digits.  Enter the hexadecimal
   value of the offset bias for your terminal.

Enter Offset value (00 to FF):  НC!ТђН	Гw2(ЙНЏНЋ!

CURSOR ADDRESSING SEQUENCE

   Enter  the hexadecimal code sequence for the cursor
   addressinFF):  НC!ТН	ГP21(ЙНЏНЋ!

COPY AND LOG COMMAND CROSS USER PROMPT FLAG

   WASH Ver 3.2 contains several commands capable  of
   performing  their  operations across CP/M  2  User
   boundaries.  If  you are going to use WASH with an
   older vernot
   support  a clear screen sequence then install WASH
   Ver 3.2 to operate in the SCROLL mode.  Up to  six
   characters  may  be in the screen clear  sequence.
   WASH  Ver 3.2 will have no problem if your  screen
   clear sequence also "homes" ВшНC!ТНЯ Н	ГјБбO:A!·В7:B!·К.xюКє+Гєq#xюВєx2(ЙНЏНЋ!

CLEAR SCREEN SEQUENCE

   Enter  the  hexadecimal  code  sequence  for   the
   control  sequence to clear the full screen of your
   full  feature console.  If your console  does  2B!GНj!НЈ!ю^В!2B!xЙюВ!2A!xЙНк ШGЕНj!НЈ!БюВ3!x·ЙхxGсНк Ш°Й  ЕНь БЙхНZ!OНv!сН^!OНv!Йжю
ъg!ЖЖ0ЙеХЕН БСбЙеХЕYН БСбЙ~ж#Вѓ!Йг~ж_#КЎ!еН бГЏ!гЙжю`Шж_Й"7"S"s"Џ"Ї"Л"л"#  '#  G#  g#‡#Ј#Г#Я#я#$;$W$w$“$і$П$  п$  %/%K%  k%‹%§%З%г%&&  ?qp`                     @       `  b     @                   x   P b Q          $ @         @Hh        C$$   @ 0     x	  0  @     `@sc     @ `             ~   x   `        #"Dr                      @bC			aC$    @                        `       | @                  `        b                       @      `       @                    @P(a#                L  @DD D    `          f                 K - SD SYSTEMS VDB 8024       $   =                 L - INTERTUBE                 $   Y                 M - APPLE/MICROSOFT Z-80      $   =          *      N -                           $ O -             "|                     @"@			aC$    @                   8    `       Dx                         `        p                  p  0  @      `  `   @                  x  @0a#`a                 @x88 8    `                                                                                                                                         л	лХ>2Іцяяя	Ъђ
 	л{Ж0С:І=К®2ІХГЉСБсЙ              хЕХН }*У ю1 !.:\ =_Н Э!Ђ ЭЛ>ЭЛЭЛ т*Ђ СБсЙ           &_&{&  ›&  »&  Ы&ы&'N' A - LEAR SIGLER ADM 3A        $   =                 B - BEEHIVE 100               $   F          E      C - ADDS REGENT 20            $   Y                 D - CALLAN DATA CD100M        $ я[00;00H    	aW                    @       `        @          x            p!b p x  `        D@@       a  g        CD#   @ 0        U    @+     ` `W*U*U*U    .U*                   `                                     `        #    T*U*U*U*U*U*U*U*U*U   @+Uz		 `  `W*U*U*U @  .U*SUU*U*U*U*U*UzX  `    @          3  Y	       `                              	 @  	  `       @        `4x        X	  `                 P*U*U*U*U*U*U*UzID  `        C              $ P - PERKIN ELMER FOX/BANTOM   $   X Y       K      Q -                           $ R - RADIO SHACK TRS 80 II     $                      S - SOROC IQ 120/140          $   =          *      T - TELEVIDEO 912/920/925                          p @ xxpp  ``wc    @       S          xy ba    F@ @         3  )	y      `                              ` @     `@      @        `0        (	  `                                xpIx  `        c   0!н°0	Н Н :Pа:Rа:Uа:WаН :Qа:TаЗ

Apple ][ Diskkontroller
fuer Fremdformate: (Version 2) <RET>
$           #$`W*U*U*U  $$.U*U*U*U*U*U*U*U     `B@      @          x @a       `        [2J    E -                           $ F -                           $ G -                           $ H - HAZELTINE 1400/1500       $  Ђ~          ~      I - IBM 3101                  $   Y          L      J - INFOTON 100               $ @    @             ` @     `C        @               &C    " `#ED  `xH$ QI&"2< DDD f |@IL@ `        #D#`  @                    raBGh   8p@          @       `        s Y00        E      * - SELECT FOR HARD COPY CONSOLES OR SCROLL OPERATION$я                                      џ W -                           $ X -                           $ Y -                           $ Z - ZENITH Z-19  WASH    COM          $   =          Y      U -                           $ V - VECTOR FLASHWRITER        $                     џ W -                           $ X -                           $ Y -                           $ Z - ZENITH Z-19 OR WH-19      $     e  @             0 @     `C      @ `             Ca    py`#ED HDc0I"q  |DD f @I`' `                                              ` 0    @                      bCHhW*U*}zU     .  **_
P*
         `                              @ @      `         @                          ` 	  D `&   $ @HL@$! @d          `  @         	y    P     `  `    p@ `             &;  xI   `#dCxyq <     F  0    `g   = @ `        #              @@$dWzU 	 @+  p`C$`W*_*U*U     .U*U*U*U*U*U*U*Uz"   `       |x         L  aD0D    `        par                     @  		 `       @ @                 `#$bW*U*}zU*U*U*U*=                   `              U*U*U*U*U*U*U*U   @+U     ` bW*U*U*U `  .U*U*U*U*U*U*U*Uz   !b   $$  D#caQ  @JGCsqa 
@Hh        Cd'   @ `       P  @     `        @                     `                                     `        #                @L$dp   @      `cC#`  @ @                 x"pp`       |x         gmN[p@P<(d    `                                  @  	H `       @      C             `C'bc   8p        8                   `                              p @      ` ga     @ @                 x   raC`#  %d$2  @JHH$C	o        C$@b  @ `     x   @     `        @                &   I  `                                     `        rq!            @     0 @"@yxpaC$    @                        `       |x         |x            `        b                 xU P  @+U     `  `W*U>U*U     .U*U*U*U*U*U*U*Uz  @Pa#                | x            `                                @      `@        @                          ` x  $$  e' r  @HHO$r @h        cCaW*U*U*U     . x	   @     ` @       @                6   I	  `                                     `        C                          @       ` @     @      a4             P`    DIH @	         3  		  @  `        C	 P*U*U*U*U*U*U*U*U   @+Uz	  ` `W*U*}*U    .U*U*U--U*U*U*_z	  `        @bW*U*U*U     .       0 @     `CGH       @                ~Ci    `!acFD H$QI"  D<< f@H I@@ `            *U*U*U*U*U*U*U*U*U*U*U*U*U*U     `      @ @                    bHh   8p@                 `                                 @ x     `  b    @       `6        x   Pc    DHL @         3  p	y 8x  `        C	                     @ xpp   ` rc   8 @         m      xq pqa                                     `        A`  @          ~     `CBg     @                 @mx   "a#dcx<d#qH0Nc D`gG =D@`                                            `      @                       PraB     @       x 
         `                                 @     0 `       @       Sa?             b    DLH @      *U*3+U*p(yA       `                                 @  pp   `       @ `      `?        (	  `                                      `        "    @   $$                   `CD hW*U*U*U     .U*U*U*U*U*U*Uijz  "x`                                  `        C  0                   U*U*U*U*bg    `  `  @                   x   P`      @            8         `                                  @       `       @ `     Ca0             `    DJH@
         3  		!  p @  `        cqp                       @ x   ```   8 @         Xm      x	  `                                      `        px            @@Cgp  P	 @"`q aCd`  @                   x   `                    xA8| 8    `                         p   @  xpp  `@s`   @                   xy@q`#&b   8p        8                   `        $    @   $$                   `COg     @                 @ix  `A	`                                     `        #                             "@    `  `W*U*U*U `   .U*U*U*U*U*U*U*Uz   0`        @                       `        ,-2),(0-1-,0-1(-),0-1-0-3((-!!!!!!)),3-,0-1-1),(0,1,0,-1),(2,1,0,-1),(0,-1,0,1)),
      ((-1,0,-1,1),(1,0,-1,-1),(1,0,1,-1),(-1,0¤1,1)));


var
   feld       : array [0..9] of array [0..23] of byte;
   xpos       : array [0..3] of byte;
   ypos   ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее     @          @      ``       @ @                       ` py  `  D' b DD'@ODbA  Gc        #"   @        QxU   `_+     `  `W*U*UzU    .U*U*U*U*U*U&++UzI   `#Dd 	H         (    f   I @@`        #¬°¬±¬І©¬Ё°¬°¬°¬°©¬Ё°¬°¬°¬°©©¬ЌЉ      ЁЁ±¬°¬±¬°©¬Ё­9$8$%9$8!$ 8$8$8$8!$ 8¬°¬°¬°©©¬ЌЉ      ЁЁ±¬°¬±¬°©¬Ё­±¬°¬­±¬°©¬Ё°¬°¬°¬°©¬Ё°¬8$°¬°©©¬ЌЉ      ЁЁ±¬°¬­±¬­І©¬Ё±¬°¬­±¬°©¬Ё­±¬°¬±$:!$ %9$8$9$8!!$((((((  8$9$°¬­±©¬ЁІ¬±¬°¬­°Ё­©±­¬°­±­°Ё­©¬і­¬°­±­°ЁЁ­Њ‹!!!!!!))0-1     @           @      ` `     @                         `       @                            `        c!   @9        p x  `@P     `C `    p@               &;  xxH`! `#DD@@ HD'q8<aQ D<< f  I4`' `        cp              @H$     @      ` 0     @                   @a                 U/M._]z H8@$T    `                                   @  q( `       @      S           (  `                     ?              `        ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее$    @   $$                   `         @                 @i      `        rq!8                   ~"@pxxacCs`  @                  x   `        @                  `        ,-1,-1),(1,0,1,-1),(-1,0,1,1),(-1,0,-1,1)));

     yoffset: offset =
     (((-1,0,1,2),(1,0,-1,-2),(0,0,0¤ёЎ¤ ё¤ё¤ё¤ёЎЎ¤…‚ЁЁЁЁЁЁ  №¤ё¤Ґ№¤ҐєЎ¤ Ґ№¤ё¤№¤єЎ¤ ё¤ё¤ё¤ёЎ¤ ё¤ё¤ё¤ёЎЎ¤…‚ЁЁЁЁЁЁ  Ґ№¤ё¤№¤єЎ¤ №¤ё,-1,-2),(0,0,0,0),(0,0,0,0)),
      ((-1,0,1,0),(1,0,-1g`  @ @$$                   `@O      @               @i       `         !   @9        p x  `@P     `C `    p@               &;  xxH`! `#DD@@ HD'q8<aQ D<< f  I4`' `        c    (U*U*U*U*U*U*U*U*U 	 @+Uz     ` bW*U*U*U    .U*Uj45U*U*U*U*Uz   0b    K  G         ?         HD  `        Cq                     @       `        @                      "b                                     `        cprogram tetris;
{$C-,U-}

type
    offset = array [0..5] of array [0..3] of array [0..3] of integer;


conыь…‚ЁЁЁЁЁгнсЧъбпаt  = ^U;
     key_left   = ^H;
     key_rotate = ' ';
     drзшЧгнсЁЁЁ= ^M;
     xoffset: offset =
     (((1,0,-1,-2),(-1                      	 @ xpp p ` ba    @        `4        xq bc                               xHID  `        Ca                 p @       ` p      @                      "b                                     `        C               OD       @      `       @                   8@IaC                gMNpx	@@|L    `                                   @ x `@ `    @      [          x(  `                     3  p	       `            є бттбщ Ы°®®іЭ пж вщфе»ЌЉ   шрпуЯба    ARRAY {} OF BYTE-*   YPOSALT    ARRAY {} OF BYTE-*   FIGURTYP   BYTE-*   TYPPOS     BYTE-*   TYPPЗЫчЙДЬ’€КСЬН“Ґў€€€НЖМН€€€€€€€’€КЗЗДНЙКSebHHHђАААААААЪА‚ѓпмебо»ЌЉ   loop!!!!!!!;!houdfds:!!;


procedure alt_neu;

begin
  foъЁбЁІµЁёЁьзЁ»Ёмз…‚ЁЁкнпбж…‚ЁЁЁЁршзыЧйдьУбХЁІµЁршзыУбХі…‚ЁЁЁЁсшзыЧйдьУбХЁІµЁсшзыУбХі…‚ЁЁнжм…‚нжмі…‚…‚…‚шъзлнмэънЁжнэЧйдьі…‚…‚кнпбж…‚ЁЁозъЁбЁІµЁёЁьзЁ»Ёмз…‚ЁЁкнпбж…‚ЁЁЁЁршзыУбХЁІµЁршзыЧйдьУбХі…‚ЁЁЁЁсшзыУбХЁІµ ypos_alt[i
         xpos[1] := 5;
         xpos[2]!;<!7:!!!!!!!!!yqnrZ2\!;<!6:!!!!!!!!!xpos[0] := 19;
         ypos[1] := 19;
         щрg{S:U(25(913ЁЁЁЁЁЁЁЁЁсшзыУ»ХЁІµЁ№±і…‚ЁЁЁЁЁЁЁнжмі…‚ЁЁЁЁ№ІЁкнпбж…‚ЁЁЁЁЁЁЁЁЁршos[0] := 4;
         xpos[1] := 5;
       est_belegt := false;
  for i := 0 to 3 do
  begin
    if (feld[xpos[i],ypos[i]] = 1) then test_belegt := true;
  end;
efl3xzgg	dure erase_lines;

var
   summe : byte;
   k,l   : byte;

begin
  for i := 0 to 19 do
  begin
    repeat
    ypos[2] := 18;
         ypos[3] := 18;
       end;
    5: begin
         xxg{S8U(25(<3ЁЁЁЁЁЁЁЁЁршзыУ№ХЁІµЁЅі…‚ЁЁЁЁЁЁЁЁЁршзыУєХЁІµЁЅі…‚ЁЁЁЁЁЁЁЁЁршзs[3] := 6;
         ypos[0] := 18;
         ypos[1] := 18;
         ypos[2] := 19;
         ypos[3] begin
    for i := 0 to 3 do
    begin
      xpos[i] := xpos[i] + xoffset[figur_typ,typ_pos,i];
      ypos[i] := ypos[i] + yoffset[figur_typ,typ_pos,i];
    end;
    typ_pos_alt := typ_pos;
    if ((figur_typ < 3) and (typ_pos = 1)) then typ_pos := count      : integer;
   max_count  : integer;
   i,j        : byte;
   taste      : char;
   abbruch    : boolean;
   score      : integer;


procedure init_array;

begin
  for i := 0 to 9 do
    for j := 0 to 23 do
      feld[i,j] := 0;
en := 6;
         ypos[0] := 19;
         ypos[1] := 19;
         ypos[2] := 18;
         ypos[3] := 18;
       end;
    3: begin
         xpos[0] := 4;
         xpos[1] := 5;
         xpos[2] := 6;
         xpos[3] := 6;
         ypos[0] := 18;
  xpos[2] := 5;
         xpos[3] := 6;
         ypos[0] := 18;
         ypos[1] := 18;
         ypos[2] := 19;
         ypos[3] := 19;
       end;
    2: begin
         xpos[0] := 4;
         xpos[1] := 5;
         xpos[2] := 5;
         xpos[3]ЁЁЁыэеенЁІµЁёі…‚ЁЁЁЁЁЁозr j := 0 to 9 do
      begio!!!!!!!!rtlll)34)z|ddl)")olemRc$aU3((((((mnd;
      if (summe = 10)(|`mf((((((jmoaf(((((((({kgzm(25({kgzm(# 20;
        if i < 19 then
        for k := i to 18 en!!!!!!!!!!gns!m!;<!1!un!8!en := 18;
       end;
    6: begin
         xpзыУёХЁІµЁЅі…‚ЁЁЁЁЁЁЁЁЁршзыУ№ХЁІµЁЅі…‚ЁЁЁЁЁЁЁЁЁршos[2] := 6;
         xpos[3] := 6;
         щрg{S8U(25(903(((((((((qxg{S9U(25(99;
         ypos[2] := 18;
         ypos[3] := 19;
       end;
  end;
end 0
    else if (typ_poыЁµЁ»ЎЁьанжЁьсшЧшзыЁІµ 0
    else typ_pos := typ_pos + 1;
  end;
end;


procedure setze_figur;

begin
  figur_typ := random(7);
  typ_pos := 0;
  typ_pos_alt := 0;
  case figur_typ of
    0: begin
         xpos[0] := 4;d;


function test_rand: boolean;

begin
  test_rand := false;
  for i := 0 to 3 do
  begin
    if (xpos[i] > 9) then test_rand := true;
    if (ypos[i] > 23) then test_rand := true;
  end;
end;


function test_belegt: boolean;

begin
  t         ypos[1] := 18;
         ypзыУєХЁІµЁ№°і…‚ЁЁЁЁЁЁЁЁЁсшoыУ»ХЁІµЁ№±і…‚ЁЁЁЁЁЁЁнжмі…‚ЁЁЁЁјІЁкнпбж…‚ЁЁЁЁЁЁЁЁЁршзыУёХЁІµЁјі…‚ЁЁЁЁЁЁЁЁЁршзыУ№ХЁІµ 4;
         xpos[2] := 5;
         xpos[3] := 6;
         ypos[0] := 19;
         ypos[1] := 18;
        %(93mfl3xzgkml}zm(n`b{ъ{ r}2kln`g))ons!h!;<!1!un!2!ef)qyfzR`T)34)qyотZi] + 1;
end;


procedure figur_left;

begin
  for i := 0 to 3 do xpos[i] := xpos[i] - 1;
end;


procedure figur_rotate;

begin
  if (figur_typ <> 6) then
 
          begin
            feld[l,k] := feld[l,k+1];
          efl3((((((((ngz(d(25(8(|g(1(lg((((((((nmdlSd$91U(25(83((((((mfl3((((}f|ad( {}eee <> 10);
  end;
end;


procedure figur_down;

begin
  for i := 0 to 3 do ypos[i] := ypos[i] U3((mflmfl3xzgkml}zm(la{xdiqWnao}z3jmoaf))of{)`)34)9)}f):)mf))kln`g((((an(qxg{SaU(45(91(|`mn
    begin
      gotoxy (30+2*xpos[i],22-ypos[i]);
      lowvideo;
      write ('  ');
      normvideo;
    end
  end
end;


procedur;
          count := count + 1;
        until ((count = max_count) or drop);
        if drop then
          begin
            repeat
              figur_down;
              abbruch := test_belegt or test_rand;
              if not abbruch then alt_    end;
                             end;
               drop_key:     begin
                               drop := true;
                             end;
  end;
end;


procedure display_feld;

begin
  for i := 19 downto 0 do
  begin
    go                   neu_alt;
                               end
                               else
                               begin
                                 loesche_figur;
                                 display_figur;
                  
  writeln('Key{/!3((za|mdf /Eg~m(dmn|((2(4%/!3((za|mdf /Eg~m(zao`|(2(%6/!3((za|mdf /Zg|i|m(((((2([XK/!3((za|mdf /Lzgx(((((((2(ZM\/!3((afaфЯбттбщ»ЌЉ  score := 0;
  deplay_feld;
  speed;
  repeat
    abbruch := false;
    drop := false;                          if (test_belmo|(gz(|m{|Wzifd)
                               then
                               begin
                                 neu_alt;
                                 typ_pos := typ_pos_alt;
                       e loesche_figur;

begin
  for i := 0 to 3 do
  begin
    if ypos_alt[i] <= 19 then
    begin
      gotoxy (30+2*xpos_alt[i],22-ypos_alt[i]);
      write (' .');
    end
  end
end;


procedure tasten_decoder;


begin
  read (kbd,taste);
 gotoxy(29,23);
  write('----------------------');
  gotoxy(1,7);
  чтй|m /[kgzm(2(/${kgzm!3mfl3xzgkml}zm({xmml3jmoaf((ki{m({kgzm(gn(((((((8&&1112(((((((((eipWkg}f|(25(:888;
       1000..1999:     max_count := 1500;
       2000..2499:  toxy(21$::%a!3((((za|m(('!');
    for j := 0 to 9 do
    begin
      if (feld[j,i] = 1)
      then begin
          lowvideo;
          write ('  ');
          normvideo;
      end
      else write (' .');
    end;
    write ('!');
  end;
                 altЯоех»ЌЉ                               еод»ЌЉ                             еод»ЌЉ               лещЯмежфє     везйоЌЉ                               жйзхтЯмежф»ЌЉ                               йж ЁфеуфЯвемезф пт феуфЯтбод©ЌЉ                 
    setze_figur;
    ende := test_belegt;
    if not ende then
    begin
      display_figur;
      alt_neu;
      repeat
        count := 0;
        repeat
          if keypressed then
          begin
            tasten_decoder;
          end        end
                               else
                               begin
                                 loesche_figur;
                                 display_figur;
                                 alt_neu;
                                                                                                                                                                                                                                                                                              max_count := 1000;
       2500..2999:     max_count := 750;
       else            max_count := 500;
   еод»ЌЉ еод»ЌЉЌЉЌЉЌЉртgkml}zm(oiem3jmoaf((ziflgearm3((kh_inDD
	 _inDDLUHPM_inDD
LCNNND0!06-7DNNNO=KНў  gotoxy(1,11);ur;
                                 display_figur;
                                 alt_neu;
                               end;
                             end;
               key_rotate:   begin
                               figur_rotate;
                   then
                               begin
                                 neu_alt;
                               end
                               else
                               begin
                                 loesche_fignm}3((((((((((((}f|ad(ijjz}k`3((((((((((((fm}Wid|3(((((((((((({kgzm(25({kgzm(#(983((((((((((mflЁЁЁЁЁЁЁЁндын…‚ЁЁЁЁЁЁЁЁЁЁкнпбж…‚ЁЁЁЁЁЁЁЁЁЁЁЁобпэъЧмзяжі…‚ЁЁЁЁЁЁЁЁЁЁЁЁбоЁ ьныьЧкнднпьЁзъЁьныьWzifl!(|`mn
              begin
                abbruch :=ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееza|mdf /"""(\M\ZA[("""/!3((og|gpq :0$9:!3((za|m /Y{lzz)hgp)blp)}f)z}h{})(. 2)){mxmi|(}f|ad(cmqxzm{{ml3((zmil cbd,taste);
  repeat
    wriьн лаъ ѕЎЎі…‚((((oiem3((((za|m khr(5));
    gotoxy(1,19);
    write('Play again (Y/N)?');
    repeat
ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее                                                                                                                                                                                                                                                                ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее((((((zmil cbd,taste);
    until tqb`rd)u`rud()`g)R.P.%.G.T2))|g}`e)|yjhzl!}hz}l !< 'N';
  clъылъі…‚нжм¦…‚’’’’’’’’’’’’’’’’’’і…‚ЁЁъншнйь…‚ЁЁЁЁяъбьн лаъ 6));
    game;
    write(chr(5));
    gotoxy(1,19);
    write('Play again (Y/N)?');
    repeat
ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее     until abbruch;
      for i:=ЁёЁьзЁ»Ёмз…‚ЁЁЁЁЁЁкнпбж…‚ЁЁЁЁЁЁЁЁондмУршзs[i],ypos[i]] := 1;
      еод»ЌЉ      етбуеЯмйоеу»ЌЉ      деџрмбщЯжемд»ЌЉ      уреед»ЌЉ    end;
  until ende;
end;


{hauptprogramm}

begin
  clrscr;
  gotoxy(33,10);
  wееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее